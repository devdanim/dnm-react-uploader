!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("browser-image-compression")):"function"==typeof define&&define.amd?define(["react","prop-types","browser-image-compression"],t):(e=e||self).Uploader=t(e.React,e.PropTypes,e.imageCompression)}(this,(function(e,t,r){"use strict";var n="default"in e?e.default:e;function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var a=i(o((function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}))),s=o((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports}));i(s);var u=o((function(e){e.exports=function(e){if(Array.isArray(e))return s(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));i(u);var l=o((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));i(l);var c=o((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}));i(c);var h=o((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));i(h);var d=i(o((function(e){e.exports=function(e){return u(e)||l(e)||c(e)||h()},e.exports.__esModule=!0,e.exports.default=e.exports}))),f=i(o((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),p=i(o((function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports}))),v=i(o((function(e){function t(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}))),m=i(o((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}))),g=i(o((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),y=o((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports})),b=i(y),w=o((function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));i(w);var k=i(o((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),x=o((function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));i(x);var E=i(o((function(e){var t=x.default;e.exports=function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return y(e)},e.exports.__esModule=!0,e.exports.default=e.exports}))),C=i(o((function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),_=o((function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new E(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return _()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===c)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==t&&r.call(m,i)&&(p=m);var g=f.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,c;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new b(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(){function e(e){this.isSpeedy=void 0===e.speedy?"production"===process.env.NODE_ENV:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(t){"production"!==process.env.NODE_ENV&&console.warn('There was a problem inserting the following rule: "'+e+'"',t)}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();function j(e){function t(e,t,n){var i=t.trim().split(p);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,o){var a=e+";",s=2*t+3*r+4*o;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===M||2===M&&i(u,1)?"-webkit-"+u+u:u}if(0===M||2===M&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(_,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),T(2!==t?n:n.replace(E,"$1"),r,t)}function o(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(k," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,i,o,a,s,l,c){for(var h,d=0,f=t;d<A;++d)switch(h=R[d].call(u,e,f,r,n,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(T=null,e?"function"!=typeof e?M=1:(M=2,T=e):M=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<A){var u=a(-1,r,s,s,O,P,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var h=function e(r,s,u,h,d){for(var f,p,v,b,k,x=0,E=0,C=0,_=0,R=0,T=0,z=v=f=0,D=0,I=0,N=0,W=0,B=u.length,F=B-1,U="",V="",H="",q="";D<B;){if(p=u.charCodeAt(D),D===F&&0!==E+_+C+x&&(0!==E&&(p=47===E?10:47),_=C=x=0,B++,F++),0===E+_+C+x){if(D===F&&(0<I&&(U=U.replace(c,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=u.charAt(D)}p=59}switch(p){case 123:for(f=(U=U.trim()).charCodeAt(0),v=1,W=++D;D<B;){switch(p=u.charCodeAt(D)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(D+1)){case 42:case 47:e:{for(z=D+1;z<F;++z)switch(u.charCodeAt(z)){case 47:if(42===p&&42===u.charCodeAt(z-1)&&D+2!==z){D=z+1;break e}break;case 10:if(47===p){D=z+1;break e}}D=z}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<F&&u.charCodeAt(D)!==p;);}if(0===v)break;D++}switch(v=u.substring(W,D),0===f&&(f=(U=U.replace(l,"").trim()).charCodeAt(0)),f){case 64:switch(0<I&&(U=U.replace(c,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:I=s;break;default:I=S}if(W=(v=e(s,I,v,p,d+1)).length,0<A&&(k=a(3,v,I=t(S,U,N),s,O,P,W,p,d,h),U=I.join(""),void 0!==k&&0===(W=(v=k.trim()).length)&&(p=0,v="")),0<W)switch(p){case 115:U=U.replace(w,o);case 100:case 109:case 45:v=U+"{"+v+"}";break;case 107:v=(U=U.replace(m,"$1 $2"))+"{"+v+"}",v=1===M||2===M&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=U+v,112===h&&(V+=v,v="")}else v="";break;default:v=e(s,t(s,U,N),v,h,d+1)}H+=v,v=N=I=z=f=0,U="",p=u.charCodeAt(++D);break;case 125:case 59:if(1<(W=(U=(0<I?U.replace(c,""):U).trim()).length))switch(0===z&&(f=U.charCodeAt(0),45===f||96<f&&123>f)&&(W=(U=U.replace(" ",":")).length),0<A&&void 0!==(k=a(1,U,s,r,O,P,V.length,h,d,h))&&0===(W=(U=k.trim()).length)&&(U="\0\0"),f=U.charCodeAt(0),p=U.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){q+=U+u.charAt(D);break}default:58!==U.charCodeAt(W-1)&&(V+=n(U,f,p,U.charCodeAt(2)))}N=I=z=f=0,U="",p=u.charCodeAt(++D)}}switch(p){case 13:case 10:47===E?E=0:0===1+f&&107!==h&&0<U.length&&(I=1,U+="\0"),0<A*L&&a(0,U,s,r,O,P,V.length,h,d,h),P=1,O++;break;case 59:case 125:if(0===E+_+C+x){P++;break}default:switch(P++,b=u.charAt(D),p){case 9:case 32:if(0===_+x+E)switch(R){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===_+E+x&&(I=N=1,b="\f"+b);break;case 108:if(0===_+E+x+j&&0<z)switch(D-z){case 2:112===R&&58===u.charCodeAt(D-3)&&(j=R);case 8:111===T&&(j=T)}break;case 58:0===_+E+x&&(z=D);break;case 44:0===E+C+_+x&&(I=1,b+="\r");break;case 34:case 39:0===E&&(_=_===p?0:0===_?p:_);break;case 91:0===_+E+C&&x++;break;case 93:0===_+E+C&&x--;break;case 41:0===_+E+x&&C--;break;case 40:if(0===_+E+x){if(0===f)switch(2*R+3*T){case 533:break;default:f=1}C++}break;case 64:0===E+C+_+x+z+v&&(v=1);break;case 42:case 47:if(!(0<_+x+C))switch(E){case 0:switch(2*p+3*u.charCodeAt(D+1)){case 235:E=47;break;case 220:W=D,E=42}break;case 42:47===p&&42===R&&W+2!==D&&(33===u.charCodeAt(W+2)&&(V+=u.substring(W,D+1)),b="",E=0)}}0===E&&(U+=b)}T=R,R=p,D++}if(0<(W=V.length)){if(I=s,0<A&&(void 0!==(k=a(2,V,I,r,O,P,W,h,d,h))&&0===(V=k).length))return q+V+H;if(V=I.join(",")+"{"+V+"}",0!=M*j){switch(2!==M||i(V,2)||(j=0),j){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}j=0}}return q+V+H}(S,s,r,0,0);return 0<A&&(void 0!==(u=a(-2,h,s,s,O,P,h.length,0,0,0))&&(h=u)),"",j=0,P=O=1,h}var l=/^\0+/g,c=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,p=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,x=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,P=1,O=1,j=0,M=1,S=[],R=[],A=0,T=null,L=0;return u.use=function e(t){switch(t){case void 0:case null:A=R.length=0;break;default:if("function"==typeof t)R[A++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else L=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}var M=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}};function S(e){e&&R.current.insert(e+"}")}var R={current:null},A=function(e,t,r,n,i,o,a,s,u,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return R.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return R.current.insert(r[0]+t),"";default:return t+(0===l?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(S)}},T=function(e,t){if(1===e&&108===t.charCodeAt(0)&&98===t.charCodeAt(2))return""},L="undefined"!=typeof document,z={},D=L?void 0:M((function(){var e=M((function(){return{}})),t={},r={};return function(n){return void 0===n||!0===n?t:!1===n?r:e(n)}})),I=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new j(t);if("production"!==process.env.NODE_ENV&&/[^a-z-]/.test(r))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+r+'" was passed');var i,o,a={};if(L){i=e.container||document.head;var s=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){a[e]=!0})),e.parentNode!==i&&i.appendChild(e)}))}if(L)n.use(e.stylisPlugins)(A),o=function(e,t,r,i){var o=t.name;if(R.current=r,"production"!==process.env.NODE_ENV&&void 0!==t.map){var a=t.map;R.current={insert:function(e){r.insert(e+a)}}}n(e,t.styles),i&&(h.inserted[o]=!0)};else{n.use(T);var u=z;(e.stylisPlugins||void 0!==e.prefix)&&(n.use(e.stylisPlugins),u=D(e.stylisPlugins||z)(e.prefix));o=function(e,t,r,i){var o=t.name,a=function(e,t){var r=t.name;return void 0===u[r]&&(u[r]=n(e,t.styles)),u[r]}(e,t);return void 0===h.compat?(i&&(h.inserted[o]=!0),"development"===process.env.NODE_ENV&&void 0!==t.map?a+t.map:a):i?void(h.inserted[o]=a):a}}if("production"!==process.env.NODE_ENV){var l=/\/\*/g,c=/\*\//g;n.use((function(e,t){switch(e){case-1:for(;l.test(t);){if(c.lastIndex=l.lastIndex,!c.test(t))throw new Error('Your styles have an unterminated comment ("/*" without corresponding "*/").');l.lastIndex=c.lastIndex}l.lastIndex=0}})),n.use((function(e,t,r){switch(e){case-1:var n=t.match(/(:first|:nth|:nth-last)-child/g);n&&!0!==h.compat&&n.forEach((function(e){var r=new RegExp(e+".*\\/\\* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason \\*\\/").test(t);e&&!r&&console.error('The pseudo class "'+e+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+e.split("-child")[0]+'-of-type".')}))}}))}var h={key:r,sheet:new O({key:r,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h},N="undefined"!=typeof document;function W(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var B=function(e,t,r){var n=e.key+"-"+t.name;if((!1===r||!1===N&&void 0!==e.compat)&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i="",o=t;do{var a=e.insert("."+n,o,e.sheet,!0);N||void 0===a||(i+=a),o=o.next}while(void 0!==o);if(!N&&0!==i.length)return i}};var F={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var U,V,H="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",q=/[A-Z]|^ms/g,G=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$=function(e){return 45===e.charCodeAt(1)},Y=function(e){return null!=e&&"boolean"!=typeof e},Z=(U=function(e){return $(e)?e:e.replace(q,"-$&").toLowerCase()},V={},function(e){return void 0===V[e]&&(V[e]=U(e)),V[e]}),X=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(G,(function(e,t,r){return ae={name:t,styles:r,next:ae},t}))}return 1===F[e]||$(e)||"number"!=typeof t||0===t?t:t+"px"};if("production"!==process.env.NODE_ENV){var K=/(attr|calc|counters?|url)\(/,J=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit","unset"],Q=X,ee=/^-ms-/,te=/-(.)/g,re={};X=function(e,t){"content"===e&&("string"!=typeof t||-1===J.indexOf(t)&&!K.test(t)&&(t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)))&&console.error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+t+"\"'`");var r=Q(e,t);return""===r||$(e)||-1===e.indexOf("-")||void 0!==re[e]||(re[e]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+e.replace(ee,"ms-").replace(te,(function(e,t){return t.toUpperCase()}))+"?")),r}}var ne=!0;function ie(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles){if("production"!==process.env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===r.toString())throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");return r}switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return ae={name:r.name,styles:r.styles,next:ae},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)ae={name:i.name,styles:i.styles,next:ae},i=i.next;var o=r.styles+";";return"production"!==process.env.NODE_ENV&&void 0!==r.map&&(o+=r.map),o}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ie(e,t,r[i],!1);else for(var o in r){var a=r[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":Y(a)&&(n+=Z(o)+":"+X(o,a)+";");else{if("NO_COMPONENT_SELECTOR"===o&&"production"!==process.env.NODE_ENV)throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=ie(e,t,a,!1);switch(o){case"animation":case"animationName":n+=Z(o)+":"+s+";";break;default:"production"!==process.env.NODE_ENV&&"undefined"===o&&console.error("You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key)."),n+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)Y(a[u])&&(n+=Z(o)+":"+X(o,a[u])+";")}}return n}(e,t,r);case"function":if(void 0!==e){var a=ae,s=r(e);return ae=a,ie(e,t,s,n)}"production"!==process.env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":if("production"!==process.env.NODE_ENV){var u=[],l=r.replace(G,(function(e,t,r){var n="animation"+u.length;return u.push("const "+n+" = keyframes`"+r.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+n+"}"}));u.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(u,["`"+l+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+l+"`")}}if(null==t)return r;var c=t[r];return"production"!==process.env.NODE_ENV&&n&&ne&&void 0!==c&&(console.error("Interpolating a className from css`` is not recommended and will cause problems with composition.\nInterpolating a className from css`` will be completely unsupported in a future major version of Emotion"),ne=!1),void 0===c||n?r:c}var oe,ae,se=/label:\s*([^\s;\n{]+)\s*;/g;"production"!==process.env.NODE_ENV&&(oe=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//);var ue=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";ae=void 0;var o,a=e[0];null==a||void 0===a.raw?(n=!1,i+=ie(r,t,a,!1)):("production"!==process.env.NODE_ENV&&void 0===a[0]&&console.error(H),i+=a[0]);for(var s=1;s<e.length;s++)i+=ie(r,t,e[s],46===i.charCodeAt(i.length-1)),n&&("production"!==process.env.NODE_ENV&&void 0===a[s]&&console.error(H),i+=a[s]);"production"!==process.env.NODE_ENV&&(i=i.replace(oe,(function(e){return o=e,""}))),se.lastIndex=0;for(var u,l="";null!==(u=se.exec(i));)l+="-"+u[1];var c=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(i)+l;return"production"!==process.env.NODE_ENV?{name:c,styles:i,map:o,next:ae,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:c,styles:i,next:ae}},le="undefined"!=typeof document,ce=Object.prototype.hasOwnProperty,he=e.createContext("undefined"!=typeof HTMLElement?I():null),de=e.createContext({}),fe=(he.Provider,function(t){var r=function(r,n){return e.createElement(he.Consumer,null,(function(e){return t(r,e,n)}))};return e.forwardRef(r)});if(!le){var pe=function(t){var r,n;function i(e,r,n){var i;return(i=t.call(this,e,r,n)||this).state={value:I()},i}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,P(r,n),i.prototype.render=function(){return e.createElement(he.Provider,this.state,this.props.children(this.state.value))},i}(e.Component);fe=function(t){return function(r){return e.createElement(he.Consumer,null,(function(n){return null===n?e.createElement(pe,null,(function(e){return t(r,e)})):t(r,n)}))}}}var ve="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",me="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",ge=function(e,t){if("production"!==process.env.NODE_ENV&&"string"==typeof t.css&&-1!==t.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`"+t.css+"`");var r={};for(var n in t)ce.call(t,n)&&(r[n]=t[n]);if(r[ve]=e,"production"!==process.env.NODE_ENV){var i=new Error;if(i.stack){var o=i.stack.match(/at (?:Object\.|Module\.|)(?:jsx|createEmotionProps).*\n\s+at (?:Object\.|)([A-Z][A-Za-z$]+) /);o||(o=i.stack.match(/.*\n([A-Z][A-Za-z$]+)@/)),o&&(r[me]=o[1].replace(/\$/g,"-"))}}return r},ye=function(){return null},be=function(t,r,n,i){var o=null===n?r.css:r.css(n);"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=r[ve],s=[o],u="";"string"==typeof r.className?u=W(t.registered,s,r.className):null!=r.className&&(u=r.className+" ");var l=ue(s);if("production"!==process.env.NODE_ENV&&-1===l.name.indexOf("-")){var c=r[me];c&&(l=ue([l,"label:"+c+";"]))}var h=B(t,l,"string"==typeof a);u+=t.key+"-"+l.name;var d={};for(var f in r)!ce.call(r,f)||"css"===f||f===ve||"production"!==process.env.NODE_ENV&&f===me||(d[f]=r[f]);d.ref=i,d.className=u;var p=e.createElement(a,d),v=e.createElement(ye,null);if(!le&&void 0!==h){for(var m,g=l.name,y=l.next;void 0!==y;)g+=" "+y.name,y=y.next;v=e.createElement("style",((m={})["data-emotion-"+t.key]=g,m.dangerouslySetInnerHTML={__html:h},m.nonce=t.sheet.nonce,m))}return e.createElement(e.Fragment,null,v,p)},we=fe((function(t,r,n){return"function"==typeof t.css?e.createElement(de.Consumer,null,(function(e){return be(r,t,e,n)})):be(r,t,null,n)}));function ke(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ue(t)}"production"!==process.env.NODE_ENV&&(we.displayName="EmotionCssPropInternal");var xe=function(t,r){var n=arguments;if(null==r||!ce.call(r,"css"))return e.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=we,o[1]=ge(t,r);for(var a=2;a<i;a++)o[a]=n[a];return e.createElement.apply(null,o)},Ee=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function Ce(e,t,r){var n=[],i=W(e,n,r);return n.length<2?r:i+t(n)}var _e,Pe,Oe,je,Me,Se,Re,Ae=function(){return null},Te=(fe((function(t,r){return e.createElement(de.Consumer,null,(function(n){var i="",o="",a=!1,s=function(){if(a&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=ue(t,r.registered);if(le)B(r,s,!1);else{var u=B(r,s,!1);void 0!==u&&(i+=u)}return le||(o+=" "+s.name),r.key+"-"+s.name},u={css:s,cx:function(){if(a&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ce(r.registered,s,Ee(t))},theme:n},l=t.children(u);a=!0;var c,h=e.createElement(Ae,null);le||0===i.length||(h=e.createElement("style",((c={})["data-emotion-"+r.key]=o.substring(1),c.dangerouslySetInnerHTML={__html:i},c.nonce=r.sheet.nonce,c)));return e.createElement(e.Fragment,null,h,l)}))})),function(){var e=ke.apply(void 0,arguments),t="animation-"+e.name;e.styles}(_e||(_e=p(["\n    from {\n        transform: scale(0.7);\n    }\n    50% {\n        transform: scale(1);\n    }\n    to {\n        transform: scale(0.7);\n    }\n"]))),{uploader:ke(Pe||(Pe=p(["\n        position: relative;\n        \n        img {\n            max-height: 100%;\n            max-width: 100%;\n            height: auto;\n            width: auto;\n        }\n        \n        .uploader-url-addon {\n            display: flex;\n            align-items: center;\n            padding: .375rem .75rem;\n            margin-bottom: 0;\n            font-weight: 400;\n            line-height: 1.5;\n            color: #495057;\n            text-align: center;\n            white-space: nowrap;\n            background-color: #e9ecef;\n            border: 1px solid #ced4da;\n            border-left-width: 0;\n            border-top-right-radius: 0;\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: .25rem;\n            \n            svg {\n                margin-right: 0.6rem;\n                fill: #495057;\n                height: 1.4rem;\n            }\n        }\n        \n        .uploader-url-input {\n            display: block;\n            height: calc(1.5em + .75rem + 2px);\n            padding: .375rem .75rem;\n            font-weight: 400;\n            font-size: 1rem;\n            line-height: 1.5;\n            color: #495057;\n            background-color: #fff;\n            background-clip: padding-box;\n            border: 1px solid #ced4da;\n            border-radius: .25rem;\n            border-top-left-radius: 0;\n            border-top-right-radius: 0;\n            border-bottom-right-radius: 0;\n            position: relative;\n            flex-grow: 1;\n            margin-bottom: 0;\n            \n            &:focus {\n                outline: none;\n            }\n        }\n        \n        .uploader-url {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: stretch;\n            flex-flow: row;\n            cursor: pointer;\n        }\n        \n        .uploader-zone {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row wrap;\n            width: 100%;\n            height: 14rem;\n            overflow: hidden;\n            position: relative;\n            color: white;\n        }\n    \n        .uploader-zone-fog {\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n            flex-flow: column;\n            background: rgba(0, 0, 0, 0.2);\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            cursor: pointer;\n            z-index: 0;\n\n            &:hover {\n                background: rgba(0, 0, 0, 0.5);\n            }\n        }\n        \n        .uploader-zone-fog-core {\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n            flex-flow: column;\n            width: 100%;\n            height: 100%;\n        }\n        \n        .uploader-zone-fog-text {\n            width: 80%;\n            text-align: center;\n            position: relative;\n            bottom: 1rem;\n            margin-top: 1rem;\n            text-shadow: 0 0 0.5rem black;\n        }\n        \n        .uploader-zone-fog-img {\n            width: 5rem;\n            fill: white;\n        }\n        \n        .uploader-zone-fog-caption {\n            background: rgba(0, 0, 0, 0.3);\n            padding: 0.2rem 0.4rem;\n            font-size: 75%;\n            color: white;\n            border-radius: 0.3rem 0.3rem 0px 0px;\n            position: absolute;\n            bottom: 0px;\n            left: 50%;\n            transform: translateX(-50%);\n        }\n        \n        .uploader-input {\n            position: fixed;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .uploader-waveform {\n            width: 100%;\n            padding: 0;\n            margin: 0;\n            z-index: 0;\n            canvas {\n                max-width: none;\n                width: 100% !important;\n            }\n        }\n\n        .uploader-string {\n            color: white;\n            z-index: 1;\n            user-select: none;\n        }\n\n        .wavesurfer-region {\n            z-index: 3 !important;\n          }\n          \n        .wavesurfer-handle {\n            background-color: rgba(146, 210, 117, 0.9) !important;\n            width: 4px !important;\n        }\n    "]))),"uploader/fetching":ke(Oe||(Oe=p(["\n        .uploader-zone-fog-core {\n            position: fixed;\n            top: -9999px;\n            left: -9999px;\n        }\n    "]))),"uploader/withUrl":ke(je||(je=p(["\n        .uploader-zone {\n            border-top-left-radius: 0.25rem !important;\n            border-top-right-radius: 0.25rem !important;\n            border-bottom-left-radius: 0 !important;\n            border-bottom-right-radius: 0 !important;\n        }\n    "]))),"uploader/withControls":ke(Me||(Me=p(["\n        .uploader-zone-fog-text {\n            margin-top: 0;\n            bottom: 0;\n        }\n        .uploader-zone-fog-img {\n            width: 2.6rem;\n            top: 0.3rem;\n        }\n        .uploader-zone-fog-controls {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row wrap;\n            position: relative;\n            bottom: 0.3rem;\n            gap: 1rem;\n        }\n        .uploader-zone-fog-or {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row;\n            font-size: 80%;\n            width: 100%;\n        }\n        .uploader-zone-fog-or-wing {\n            flex-grow: 1;\n            height: 0;\n            border-style: solid;\n            border-width: .06rem 0 0 0;\n            border-color: white;\n        }\n        .uploader-zone-fog-or-body {\n            padding: 0.5rem 0.7rem;\n            user-select: none;\n        }\n        .uploader-zone-fog-controls-control {\n            height: 2rem;\n            width: 2rem;\n            fill: white;\n        }\n    "]))),"uploader/compact":ke(Se||(Se=p(["\n        .uploader-zone {\n            border-radius: .5rem;\n            height: 4rem;\n        }\n        .uploader-zone-fog-img {\n            width: 2rem;\n            top: 0;\n        }\n        .uploader-zone-fog-controls-control {\n            width: 1.5rem !important;\n            height: 1.5rem !important;\n        }\n    "]))),"uploader/disabled":ke(Re||(Re=p(["\n        .uploader-zone {\n            cursor: not-allowed;\n        }\n        .uploader-zone-fog {\n            cursor: not-allowed;\n            &:hover {\n                background: rgba(0, 0, 0, 0.2);\n            }\n        }\n        .uploader-zone-fog-img {\n            fill: #707070;\n        }\n        .uploader-zone-fog-caption {\n            background: rgba(0, 0, 0, 0.1);\n        }\n        .uploader-zone-fog-text {\n            color: #707070;\n        }\n        .uploader-zone-fog-controls-control {\n            fill: #707070;\n        }\n    "])))}),Le=o((function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=r(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default,e.exports.default=t.default}));i(Le);var ze=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default}));i(ze);var De=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,n.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var i=e.split("."),a=0;a<i.length;a++)if(i[a].length>63)return!1;if(t.require_tld){var s=i.pop();if(!i.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(s))return!1}for(var u,l=0;l<i.length;l++){if(u=i[l],t.allow_underscores&&(u=u.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(u))return!1;if(/[\uff01-\uff5e]/.test(u))return!1;if("-"===u[0]||"-"===u[u.length-1])return!1}return!0};var r=i(Le),n=i(ze);function i(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default}));i(De);var Ie=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n.default)(t),!(r=String(r)))return e(t,4)||e(t,6);if("4"===r){if(!i.test(t))return!1;var a=t.split(".").sort((function(e,t){return e-t}));return a[3]<=255}if("6"===r){var s=t.split(":"),u=!1,l=e(s[s.length-1],4),c=l?7:8;if(s.length>c)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(s.shift(),s.shift(),u=!0):"::"===t.substr(t.length-2)&&(s.pop(),s.pop(),u=!0);for(var h=0;h<s.length;++h)if(""===s[h]&&h>0&&h<s.length-1){if(u)return!1;u=!0}else if(l&&h===s.length-1);else if(!o.test(s[h]))return!1;return u?s.length>=1:s.length===c}return!1};var r,n=(r=Le)&&r.__esModule?r:{default:r};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,o=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default}));i(Ie);var Ne=i(o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var a,c,h,d,f,p,v,m;if(t=(0,o.default)(t,s),v=e.split("#"),e=v.shift(),v=e.split("?"),e=v.shift(),(v=e.split("://")).length>1){if(a=v.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(a))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;v[0]=e.substr(2)}}if(""===(e=v.join("://")))return!1;if(v=e.split("/"),""===(e=v.shift())&&!t.require_host)return!0;if((v=e.split("@")).length>1){if(t.disallow_auth)return!1;if((c=v.shift()).indexOf(":")>=0&&c.split(":").length>2)return!1}d=v.join("@"),p=null,m=null;var g=d.match(u);g?(h="",m=g[1],p=g[2]||null):(v=d.split(":"),h=v.shift(),v.length&&(p=v.join(":")));if(null!==p&&(f=parseInt(p,10),!/^[0-9]+$/.test(p)||f<=0||f>65535))return!1;if(!((0,i.default)(h)||(0,n.default)(h,t)||m&&(0,i.default)(m,6)))return!1;if(h=h||m,t.host_whitelist&&!l(h,t.host_whitelist))return!1;if(t.host_blacklist&&l(h,t.host_blacklist))return!1;return!0};var r=a(Le),n=a(De),i=a(Ie),o=a(ze);function a(e){return e&&e.__esModule?e:{default:e}}var s={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||(i=n,"[object RegExp]"===Object.prototype.toString.call(i)&&n.test(e)))return!0}var i;return!1}e.exports=t.default,e.exports.default=t.default}))),We=function(e){return n.createElement("svg",f({viewBox:"0 0 512.001 512.001"},e),n.createElement("path",{d:"M405.967 187.467c-1.069-78.061-64.902-141.239-143.213-141.239-34.835 0-68.396 12.672-94.498 35.682-23.296 20.535-39.232 47.977-45.543 78.106-.461-.005-.918-.009-1.374-.009C54.434 160.008 0 214.441 0 281.347s54.434 121.339 121.34 121.339h44.534c6.029 0 10.919-4.888 10.919-10.919 0-6.031-4.89-10.919-10.919-10.919H121.34c-54.866 0-99.502-44.636-99.502-99.501s44.636-99.501 99.502-99.501c2.923 0 6.013.157 9.448.48 5.822.54 11.049-3.596 11.842-9.396 3.932-28.82 18.161-55.327 40.067-74.638 22.111-19.492 50.542-30.226 80.056-30.226 66.935 0 121.389 54.455 121.389 121.389 0 2.41-.449 8.642-.449 8.642a10.92 10.92 0 0 0 11.984 11.634 87.102 87.102 0 0 1 8.708-.44c47.297 0 85.778 38.48 85.778 85.778 0 47.297-38.48 85.777-85.778 85.777h-48.902c-6.029 0-10.919 4.888-10.919 10.919s4.89 10.919 10.919 10.919h48.902c59.339 0 107.616-48.275 107.616-107.615-.001-58.808-47.421-106.752-106.034-107.602z"}),n.createElement("path",{d:"M262.755 97.548c-45.658 0-84.742 34.121-90.914 79.367-.815 5.975 3.371 11.462 9.343 12.295 6.368.888 11.548-3.869 12.295-9.343 4.702-34.479 34.484-60.48 69.276-60.48 6.031 0 10.919-4.888 10.919-10.919 0-6.032-4.889-10.92-10.919-10.92zm50.524 312.735c-4.017-4.496-10.92-4.887-15.418-.868l-26.265 23.463V298.547c0-6.031-4.89-10.919-10.919-10.919-6.031 0-10.919 4.888-10.919 10.919v134.33l-26.264-23.463c-4.496-4.018-11.401-3.627-15.417.868-4.018 4.498-3.63 11.399.868 15.418l39.717 35.483a17.983 17.983 0 0 0 12.014 4.59 17.99 17.99 0 0 0 12.013-4.589l39.719-35.483c4.499-4.017 4.888-10.92.871-15.418z"}))},Be=function(e){return n.createElement("svg",f({viewBox:"0 0 448 512"},e),n.createElement("path",{d:"M278.06 256L444.48 89.57c4.69-4.69 4.69-12.29 0-16.97-32.8-32.8-85.99-32.8-118.79 0L210.18 188.12l-24.86-24.86c4.31-10.92 6.68-22.81 6.68-35.26 0-53.02-42.98-96-96-96S0 74.98 0 128s42.98 96 96 96c4.54 0 8.99-.32 13.36-.93L142.29 256l-32.93 32.93c-4.37-.61-8.83-.93-13.36-.93-53.02 0-96 42.98-96 96s42.98 96 96 96 96-42.98 96-96c0-12.45-2.37-24.34-6.68-35.26l24.86-24.86L325.69 439.4c32.8 32.8 85.99 32.8 118.79 0 4.69-4.68 4.69-12.28 0-16.97L278.06 256zM96 160c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32zm0 256c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z",className:""}))},Fe=function(e){return n.createElement("svg",f({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M12.92 2.873a2.975 2.975 0 0 1 4.207 4.207l-.669.669l-4.207-4.207l.67-.669ZM11.544 4.25l-7.999 7.999a2.438 2.438 0 0 0-.655 1.194l-.878 3.95a.5.5 0 0 0 .597.597l3.926-.873a2.518 2.518 0 0 0 1.234-.678l7.982-7.982l-4.207-4.207Z"}))},Ue=function(e){return n.createElement("svg",f({viewBox:"0 0 512 512"},e),n.createElement("path",{fill:"currentColor",d:"M488 352h-40V96c0-17.67-14.33-32-32-32H192v96h160v328c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24zM160 24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v256c0 17.67 14.33 32 32 32h224v-96H160V24z"}))},Ve=function(e){return n.createElement("svg",f({viewBox:"0 0 448 512"},e),n.createElement("path",{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}))},He=function(e){return n.createElement("svg",f({height:596,viewBox:"0 0 447.632 447"},e),n.createElement("path",{d:"M231.816 447.05c34.23-4.863 64.239-40.59 83.121-93.35a406.317 406.317 0 0 0-83.12-9.786zm0 0M286.504 438.66c2.023-.586 4.039-1.176 6.039-1.824 1.687-.543 3.352-1.129 5.016-1.711a203.39 203.39 0 0 0 5.882-2.121c1.664-.633 3.313-1.305 4.965-1.977 1.906-.8 3.809-1.597 5.692-2.398a240.401 240.401 0 0 0 10.422-4.922c1.601-.816 3.199-1.648 4.8-2.504 1.793-.96 3.575-1.941 5.344-2.95a203.403 203.403 0 0 0 4.703-2.753c1.735-1.066 3.461-2.133 5.176-3.2a191.535 191.535 0 0 0 4.578-2.991 221.095 221.095 0 0 0 5.008-3.504 417.693 417.693 0 0 0 4.422-3.2 365.942 365.942 0 0 0 4.847-3.793c1.426-1.136 2.848-2.265 4.25-3.433 1.598-1.328 3.13-2.703 4.68-4.078 1.36-1.207 2.727-2.403 4.055-3.64 1.527-1.427 3.015-2.903 4.504-4.368 1.289-1.273 2.593-2.527 3.855-3.832.235-.242.457-.504.7-.754a268.883 268.883 0 0 0-54.817-21.094 198.517 198.517 0 0 1-51.129 83.024c.649-.168 1.297-.305 1.945-.473 1.711-.48 3.391-1.008 5.063-1.504zm0 0M447.633 231.684H351.71a414.882 414.882 0 0 1-16.152 110.68 278.228 278.228 0 0 1 60.714 24.16 223.51 223.51 0 0 0 51.36-134.84zm0 0M231.816 215.684h103.895a400.208 400.208 0 0 0-15.75-106.743 421.384 421.384 0 0 1-88.145 10.512zm0 0M231.816.316v103.137a406.589 406.589 0 0 0 83.121-9.785C296.055 40.906 266.048 5.18 231.817.316zm0 0M231.816 327.914a421.648 421.648 0 0 1 88.145 10.516 400.236 400.236 0 0 0 15.75-106.746H231.816zm0 0M396.273 80.844a278.228 278.228 0 0 1-60.714 24.16 414.882 414.882 0 0 1 16.152 110.68h95.922a223.577 223.577 0 0 0-51.36-134.84zm0 0M385.465 68.707c-.235-.238-.457-.496-.688-.742-1.265-1.305-2.578-2.563-3.867-3.832-1.484-1.465-2.965-2.945-4.496-4.367-1.324-1.235-2.695-2.403-4.055-3.633-1.55-1.375-3.101-2.762-4.695-4.09-1.383-1.168-2.8-2.285-4.207-3.406a171.24 171.24 0 0 0-4.89-3.825 220.477 220.477 0 0 0-4.383-3.199 192.844 192.844 0 0 0-5.055-3.547 200.251 200.251 0 0 0-4.535-2.957 190.441 190.441 0 0 0-5.219-3.257 223.26 223.26 0 0 0-4.664-2.727 220.848 220.848 0 0 0-5.39-2.984c-1.602-.801-3.2-1.672-4.801-2.473-1.84-.93-3.696-1.824-5.598-2.703a174.071 174.071 0 0 0-4.875-2.227c-1.895-.84-3.809-1.597-5.719-2.398a225.094 225.094 0 0 0-4.953-1.969 191.214 191.214 0 0 0-5.879-2.117 210.272 210.272 0 0 0-5.016-1.715c-2-.648-4-1.238-6.054-1.832-1.664-.488-3.336-.984-5.02-1.43-.644-.175-1.3-.312-1.949-.48a198.532 198.532 0 0 1 51.129 83.023 268.485 268.485 0 0 0 54.879-21.113zm0 0M0 215.684h95.922a415.035 415.035 0 0 1 16.148-110.68 277.885 277.885 0 0 1-60.71-24.16A223.519 223.519 0 0 0 0 215.684zm0 0M215.816 447.05V343.915a406.589 406.589 0 0 0-83.12 9.785c18.878 52.762 48.89 88.488 83.12 93.352zm0 0M215.816 231.684H111.922a400.079 400.079 0 0 0 15.75 106.746 421.097 421.097 0 0 1 88.144-10.516zm0 0M215.816.316c-34.23 4.864-64.242 40.59-83.12 93.352a406.045 406.045 0 0 0 83.12 9.785zm0 0M215.816 119.453a421.384 421.384 0 0 1-88.144-10.512 400.05 400.05 0 0 0-15.75 106.743h103.894zm0 0M168.113 6.79c-.648.167-1.297.304-1.945.472-1.695.453-3.367.957-5.055 1.445-2.008.586-4 1.176-6.015 1.816-1.7.551-3.371 1.137-5.043 1.72-1.957.69-3.918 1.378-5.856 2.112-1.672.641-3.32 1.305-4.976 1.985-1.903.8-3.809 1.601-5.688 2.398-1.648.723-3.277 1.48-4.91 2.242a223.908 223.908 0 0 0-5.512 2.68 228.526 228.526 0 0 0-10.137 5.457 149.244 149.244 0 0 0-4.718 2.75c-1.738 1.047-3.457 2.13-5.168 3.2-1.54.984-3.067 1.976-4.578 3a221.095 221.095 0 0 0-5.008 3.503 403.614 403.614 0 0 0-4.426 3.203c-1.637 1.23-3.2 2.512-4.848 3.79-1.421 1.136-2.855 2.265-4.246 3.44-1.601 1.321-3.12 2.688-4.664 4.056-1.367 1.218-2.746 2.402-4.082 3.664-1.52 1.418-3 2.89-4.484 4.351-1.29 1.274-2.602 2.531-3.867 3.84-.23.242-.453.508-.696.754a268.581 268.581 0 0 0 54.817 21.098 198.45 198.45 0 0 1 51.105-82.977zm0 0M66.719 383.234c1.488 1.465 2.969 2.946 4.496 4.371 1.328 1.23 2.695 2.399 4.058 3.63 1.551 1.378 3.102 2.761 4.696 4.09 1.383 1.16 2.793 2.28 4.207 3.405 1.601 1.297 3.199 2.586 4.894 3.833 1.442 1.082 2.907 2.128 4.371 3.203 1.672 1.199 3.36 2.398 5.063 3.55a214.813 214.813 0 0 0 4.535 2.961c1.73 1.11 3.457 2.2 5.219 3.254 1.543.93 3.101 1.84 4.664 2.73a208.275 208.275 0 0 0 5.39 2.981c1.598.801 3.2 1.672 4.801 2.473 1.84.93 3.696 1.824 5.598 2.707 1.601.754 3.226 1.496 4.875 2.223 1.894.84 3.805 1.597 5.719 2.398 1.648.672 3.289 1.336 4.953 1.969 1.941.746 3.91 1.441 5.879 2.12 1.664.583 3.328 1.169 5.015 1.712 2 .648 4 1.242 6.055 1.832 1.664.488 3.336.984 5.016 1.433.648.176 1.304.313 1.953.48a198.57 198.57 0 0 1-51.13-83.027 268.607 268.607 0 0 0-54.816 21.106c.235.238.458.496.692.742 1.2 1.297 2.492 2.555 3.797 3.824zm0 0M51.36 366.523a278.275 278.275 0 0 1 60.71-24.16 415.035 415.035 0 0 1-16.148-110.68H0a223.552 223.552 0 0 0 51.36 134.84zm0 0"}))},qe=function(e){return n.createElement("svg",f({viewBox:"0 0 512 512"},e),n.createElement("path",{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}))},Ge=function(e){return n.createElement("svg",f({viewBox:"0 0 576 512"},e),n.createElement("path",{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}))},$e=function(e){return n.createElement("svg",f({viewBox:"0 0 512 512"},e),n.createElement("path",{d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"}))},Ye=function(e){return n.createElement("svg",f({viewBox:"0 0 640 512"},e),n.createElement("path",{d:"M608 0H160a32 32 0 0 0-32 32v96h160V64h192v320h128a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32zM232 103a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm352 208a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm-168 57H32a32 32 0 0 0-32 32v288a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32zM96 224a32 32 0 1 1-32 32 32 32 0 0 1 32-32zm288 224H64v-32l64-64 32 32 128-128 96 96z"}))},Ze={browser:{video:{mimeTypes:["video/mp4","video/quicktime"],extensions:["mp4","mov"]},image:{mimeTypes:["image/jpeg","image/png"],extensions:["jpeg","jpg","png"]},audio:{mimeTypes:["audio/wav","audio/x-wav","audio/mpeg","audio/mp3","audio/mpeg3","audio/x-mpeg","audio/x-mp3","audio/x-mpeg3"],extensions:["wav","mp3"]}},extended:{video:{mimeTypes:[],extensions:[]},image:{mimeTypes:["application/pdf","application/postscript","application/tif","application/tiff","application/vnd.3gpp.pic-bw-small","application/x-pdf","application/x-tif","application/x-tiff","image/avif","image/avif-sequence","image/bmp","image/bmp2","image/bmp3","image/gif","image/heic","image/heif","image/jbg","image/jbig","image/jng","image/jpeg2000","image/jpeg2000-image","image/jxl","image/jxr","image/svg","image/svg+xml","image/tif","image/tiff","image/vnd.adobe.photoshop","image/vnd.radiance","image/webp","image/x-adobe-dng","image/x-canon-cr2","image/x-canon-crw","image/x-canon-raw","image/x-dcraw","image/x-exr","image/x-fuji-raf","image/x-icon","image/x-kodak-dcr","image/x-kodak-k25","image/x-kodak-kdc","image/x-minolta-mrw","image/x-nikon-nef","image/x-olympus-orf","image/x-panasonic-raw","image/x-pentax-pef","image/x-sigma-x3f","image/x-sony-arw","image/x-sony-raw","image/x-sony-sr2","image/x-sony-srf","image/x-targa","image/x-tga"],extensions:["arw","avif","avifs","bmp","bmp2","bmp3","cr2","crw","dcr","dng","eps","eps2","eps3","exr","gif","hdr","heic","heif","ico","jbg","jbig","jfif","jng","jp2","jxl","jxr","k25","kdc","mrw","nef","openexr","orf","orf","pdf","pef","ps","ps2","ps3","psb","psd","raf","raf","raw","sr2","srf","svg","tga","tif","tiff","webp","x3f"]},audio:{mimeTypes:[],extensions:[]}}},Xe="object"==typeof global&&global&&global.Object===Object&&global,Ke="object"==typeof self&&self&&self.Object===Object&&self,Je=Xe||Ke||Function("return this")(),Qe=Je.Symbol;function et(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var tt=Array.isArray,rt=Object.prototype,nt=rt.hasOwnProperty,it=rt.toString,ot=Qe?Qe.toStringTag:void 0;var at=Object.prototype.toString;var st=Qe?Qe.toStringTag:void 0;function ut(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":st&&st in Object(e)?function(e){var t=nt.call(e,ot),r=e[ot];try{e[ot]=void 0;var n=!0}catch(e){}var i=it.call(e);return n&&(t?e[ot]=r:delete e[ot]),i}(e):function(e){return at.call(e)}(e)}function lt(e){return null!=e&&"object"==typeof e}function ct(e){return"symbol"==typeof e||lt(e)&&"[object Symbol]"==ut(e)}var ht=Qe?Qe.prototype:void 0,dt=ht?ht.toString:void 0;function ft(e){if("string"==typeof e)return e;if(tt(e))return et(e,ft)+"";if(ct(e))return dt?dt.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function pt(e){return null==e?"":ft(e)}function vt(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,t,r)}var mt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function gt(e){return mt.test(e)}var yt="[\\ud800-\\udfff]",bt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wt="\\ud83c[\\udffb-\\udfff]",kt="[^\\ud800-\\udfff]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="(?:"+bt+"|"+wt+")"+"?",_t="[\\ufe0e\\ufe0f]?"+Ct+("(?:\\u200d(?:"+[kt,xt,Et].join("|")+")[\\ufe0e\\ufe0f]?"+Ct+")*"),Pt="(?:"+[kt+bt+"?",bt,xt,Et,yt].join("|")+")",Ot=RegExp(wt+"(?="+wt+")|"+Pt+_t,"g");function jt(e){return gt(e)?function(e){return e.match(Ot)||[]}(e):function(e){return e.split("")}(e)}var Mt,St=(Mt="toUpperCase",function(e){var t=gt(e=pt(e))?jt(e):void 0,r=t?t[0]:e.charAt(0),n=t?vt(t,1).join(""):e.slice(1);return r[Mt]()+n});var Rt,At=(Rt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},function(e){return null==Rt?void 0:Rt[e]}),Tt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nt="["+It+"]",Wt="\\d+",Bt="[\\u2700-\\u27bf]",Ft="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ut="[^\\ud800-\\udfff"+It+Wt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Vt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Gt="(?:"+Ft+"|"+Ut+")",$t="(?:"+qt+"|"+Ut+")",Yt="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Zt="[\\ufe0e\\ufe0f]?"+Yt+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Vt,Ht].join("|")+")[\\ufe0e\\ufe0f]?"+Yt+")*"),Xt="(?:"+[Bt,Vt,Ht].join("|")+")"+Zt,Kt=RegExp([qt+"?"+Ft+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Nt,qt,"$"].join("|")+")",$t+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Nt,qt+Gt,"$"].join("|")+")",qt+"?"+Gt+"+(?:['](?:d|ll|m|re|s|t|ve))?",qt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wt,Xt].join("|"),"g");function Jt(e,t,r){return e=pt(e),void 0===(t=r?void 0:t)?function(e){return Dt.test(e)}(e)?function(e){return e.match(Kt)||[]}(e):function(e){return e.match(zt)||[]}(e):e.match(t)||[]}var Qt=RegExp("[']","g");var er,tr=(er=function(e,t,r){return t=t.toLowerCase(),e+(r?St(pt(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}(Jt(function(e){return(e=pt(e))&&e.replace(Tt,At).replace(Lt,"")}(e).replace(Qt,"")),er,"")});function rr(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function nr(e){return lt(e)&&"[object Arguments]"==ut(e)}var ir=Object.prototype,or=ir.hasOwnProperty,ar=ir.propertyIsEnumerable,sr=nr(function(){return arguments}())?nr:function(e){return lt(e)&&or.call(e,"callee")&&!ar.call(e,"callee")},ur=Qe?Qe.isConcatSpreadable:void 0;function lr(e){return tt(e)||sr(e)||!!(ur&&e&&e[ur])}function cr(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=lr),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?cr(s,t-1,r,n,i):rr(i,s):n||(i[i.length]=s)}return i}function hr(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function dr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var fr=function(){return Je.Date.now()},pr=/\s/;var vr=/^\s+/;function mr(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&pr.test(e.charAt(t)););return t}(e)+1).replace(vr,""):e}var gr=/^[-+]0x[0-9a-f]+$/i,yr=/^0b[01]+$/i,br=/^0o[0-7]+$/i,wr=parseInt;function kr(e){if("number"==typeof e)return e;if(ct(e))return NaN;if(dr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=dr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=mr(e);var r=yr.test(e);return r||br.test(e)?wr(e.slice(2),r?2:8):gr.test(e)?NaN:+e}var xr=Math.max,Er=Math.min;function Cr(e,t,r){var n,i,o,a,s,u,l=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,o=i;return n=i=void 0,l=t,a=e.apply(o,r)}function p(e){return l=e,s=setTimeout(m,t),c?f(e):a}function v(e){var r=e-u;return void 0===u||r>=t||r<0||h&&e-l>=o}function m(){var e=fr();if(v(e))return g(e);s=setTimeout(m,function(e){var r=t-(e-u);return h?Er(r,o-(e-l)):r}(e))}function g(e){return s=void 0,d&&n?f(e):(n=i=void 0,a)}function y(){var e=fr(),r=v(e);if(n=arguments,i=this,u=e,r){if(void 0===s)return p(u);if(h)return clearTimeout(s),s=setTimeout(m,t),f(u)}return void 0===s&&(s=setTimeout(m,t)),a}return t=kr(t)||0,dr(r)&&(c=!!r.leading,o=(h="maxWait"in r)?xr(kr(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=u=i=s=void 0},y.flush=function(){return void 0===s?a:g(fr())},y}function _r(e){if(!dr(e))return!1;var t=ut(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Pr,Or=Je["__core-js_shared__"],jr=(Pr=/[^.]+$/.exec(Or&&Or.keys&&Or.keys.IE_PROTO||""))?"Symbol(src)_1."+Pr:"";var Mr=Function.prototype.toString;function Sr(e){if(null!=e){try{return Mr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Rr=/^\[object .+?Constructor\]$/,Ar=Function.prototype,Tr=Object.prototype,Lr=Ar.toString,zr=Tr.hasOwnProperty,Dr=RegExp("^"+Lr.call(zr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ir(e){return!(!dr(e)||(t=e,jr&&jr in t))&&(_r(e)?Dr:Rr).test(Sr(e));var t}function Nr(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ir(r)?r:void 0}var Wr=Nr(Object,"create");var Br=Object.prototype.hasOwnProperty;var Fr=Object.prototype.hasOwnProperty;function Ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e,t){return e===t||e!=e&&t!=t}function Hr(e,t){for(var r=e.length;r--;)if(Vr(e[r][0],t))return r;return-1}Ur.prototype.clear=function(){this.__data__=Wr?Wr(null):{},this.size=0},Ur.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ur.prototype.get=function(e){var t=this.__data__;if(Wr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Br.call(t,e)?t[e]:void 0},Ur.prototype.has=function(e){var t=this.__data__;return Wr?void 0!==t[e]:Fr.call(t,e)},Ur.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wr&&void 0===t?"__lodash_hash_undefined__":t,this};var qr=Array.prototype.splice;function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=Hr(t,e);return!(r<0)&&(r==t.length-1?t.pop():qr.call(t,r,1),--this.size,!0)},Gr.prototype.get=function(e){var t=this.__data__,r=Hr(t,e);return r<0?void 0:t[r][1]},Gr.prototype.has=function(e){return Hr(this.__data__,e)>-1},Gr.prototype.set=function(e,t){var r=this.__data__,n=Hr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var $r=Nr(Je,"Map");function Yr(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zr.prototype.clear=function(){this.size=0,this.__data__={hash:new Ur,map:new($r||Gr),string:new Ur}},Zr.prototype.delete=function(e){var t=Yr(this,e).delete(e);return this.size-=t?1:0,t},Zr.prototype.get=function(e){return Yr(this,e).get(e)},Zr.prototype.has=function(e){return Yr(this,e).has(e)},Zr.prototype.set=function(e,t){var r=Yr(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Xr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Zr;++t<r;)this.add(e[t])}function Kr(e){return e!=e}function Jr(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Kr,r)}(e,t,0)>-1}function Qr(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function en(e){return function(t){return e(t)}}function tn(e,t){return e.has(t)}Xr.prototype.add=Xr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Xr.prototype.has=function(e){return this.__data__.has(e)};function rn(e){return e}function nn(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var on=Math.max;var an=function(){try{var e=Nr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),sn=an?function(e,t){return an(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:rn,un=Date.now;var ln,cn,hn,dn=(ln=sn,cn=0,hn=0,function(){var e=un(),t=16-(e-hn);if(hn=e,t>0){if(++cn>=800)return arguments[0]}else cn=0;return ln.apply(void 0,arguments)});function fn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function pn(e){return null!=e&&fn(e.length)&&!_r(e)}function vn(e){return lt(e)&&pn(e)}var mn=function(e,t){return dn(function(e,t,r){return t=on(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=on(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),nn(e,this,s)}}(e,t,rn),e+"")}((function(e,t){return vn(e)?function(e,t,r,n){var i=-1,o=Jr,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;r&&(t=et(t,en(r))),n?(o=Qr,a=!1):t.length>=200&&(o=tn,a=!1,t=new Xr(t));e:for(;++i<s;){var c=e[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,a&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;u.push(c)}else o(t,h,n)||u.push(c)}return u}(e,cr(t,1,vn,!0)):[]})),gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yn=/^\w*$/;function bn(e,t){if(tt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ct(e))||(yn.test(e)||!gn.test(e)||null!=t&&e in Object(t))}function wn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(wn.Cache||Zr),r}wn.Cache=Zr;var kn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xn=/\\(\\)?/g,En=function(e){var t=wn(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(kn,(function(e,r,n,i){t.push(n?i.replace(xn,"$1"):r||e)})),t}));function Cn(e,t){return tt(e)?e:bn(e,t)?[e]:En(pt(e))}function _n(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Pn(e,t){for(var r=0,n=(t=Cn(t,e)).length;null!=e&&r<n;)e=e[_n(t[r++])];return r&&r==n?e:void 0}function On(e,t,r){var n=null==e?void 0:Pn(e,t);return void 0===n?r:n}function jn(e){var t=this.__data__=new Gr(e);this.size=t.size}function Mn(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}jn.prototype.clear=function(){this.__data__=new Gr,this.size=0},jn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},jn.prototype.get=function(e){return this.__data__.get(e)},jn.prototype.has=function(e){return this.__data__.has(e)},jn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!$r||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Zr(n)}return r.set(e,t),this.size=r.size,this};function Sn(e,t,r,n,i,o){var a=1&r,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var h=-1,d=!0,f=2&r?new Xr:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var p=e[h],v=t[h];if(n)var m=a?n(v,p,h,t,e,o):n(p,v,h,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!Mn(t,(function(e,t){if(!tn(f,t)&&(p===e||i(p,e,r,n,o)))return f.push(t)}))){d=!1;break}}else if(p!==v&&!i(p,v,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}var Rn=Je.Uint8Array;function An(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Tn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var Ln=Qe?Qe.prototype:void 0,zn=Ln?Ln.valueOf:void 0;var Dn=Object.prototype.propertyIsEnumerable,In=Object.getOwnPropertySymbols,Nn=In?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}(In(e),(function(t){return Dn.call(e,t)})))}:function(){return[]};var Wn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bn=Wn&&"object"==typeof module&&module&&!module.nodeType&&module,Fn=Bn&&Bn.exports===Wn?Je.Buffer:void 0,Un=(Fn?Fn.isBuffer:void 0)||function(){return!1},Vn=/^(?:0|[1-9]\d*)$/;function Hn(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Vn.test(e))&&e>-1&&e%1==0&&e<t}var qn={};qn["[object Float32Array]"]=qn["[object Float64Array]"]=qn["[object Int8Array]"]=qn["[object Int16Array]"]=qn["[object Int32Array]"]=qn["[object Uint8Array]"]=qn["[object Uint8ClampedArray]"]=qn["[object Uint16Array]"]=qn["[object Uint32Array]"]=!0,qn["[object Arguments]"]=qn["[object Array]"]=qn["[object ArrayBuffer]"]=qn["[object Boolean]"]=qn["[object DataView]"]=qn["[object Date]"]=qn["[object Error]"]=qn["[object Function]"]=qn["[object Map]"]=qn["[object Number]"]=qn["[object Object]"]=qn["[object RegExp]"]=qn["[object Set]"]=qn["[object String]"]=qn["[object WeakMap]"]=!1;var Gn="object"==typeof exports&&exports&&!exports.nodeType&&exports,$n=Gn&&"object"==typeof module&&module&&!module.nodeType&&module,Yn=$n&&$n.exports===Gn&&Xe.process,Zn=function(){try{var e=$n&&$n.require&&$n.require("util").types;return e||Yn&&Yn.binding&&Yn.binding("util")}catch(e){}}(),Xn=Zn&&Zn.isTypedArray,Kn=Xn?en(Xn):function(e){return lt(e)&&fn(e.length)&&!!qn[ut(e)]},Jn=Object.prototype.hasOwnProperty;function Qn(e,t){var r=tt(e),n=!r&&sr(e),i=!r&&!n&&Un(e),o=!r&&!n&&!i&&Kn(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var l in e)!t&&!Jn.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Hn(l,u))||s.push(l);return s}var ei=Object.prototype;var ti=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ri=Object.prototype.hasOwnProperty;function ni(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||ei))return ti(e);var t,r,n=[];for(var i in Object(e))ri.call(e,i)&&"constructor"!=i&&n.push(i);return n}function ii(e){return pn(e)?Qn(e):ni(e)}function oi(e){return function(e,t,r){var n=t(e);return tt(e)?n:rr(n,r(e))}(e,ii,Nn)}var ai=Object.prototype.hasOwnProperty;var si=Nr(Je,"DataView"),ui=Nr(Je,"Promise"),li=Nr(Je,"Set"),ci=Nr(Je,"WeakMap"),hi=Sr(si),di=Sr($r),fi=Sr(ui),pi=Sr(li),vi=Sr(ci),mi=ut;(si&&"[object DataView]"!=mi(new si(new ArrayBuffer(1)))||$r&&"[object Map]"!=mi(new $r)||ui&&"[object Promise]"!=mi(ui.resolve())||li&&"[object Set]"!=mi(new li)||ci&&"[object WeakMap]"!=mi(new ci))&&(mi=function(e){var t=ut(e),r="[object Object]"==t?e.constructor:void 0,n=r?Sr(r):"";if(n)switch(n){case hi:return"[object DataView]";case di:return"[object Map]";case fi:return"[object Promise]";case pi:return"[object Set]";case vi:return"[object WeakMap]"}return t});var gi=mi,yi=Object.prototype.hasOwnProperty;function bi(e,t,r,n,i,o){var a=tt(e),s=tt(t),u=a?"[object Array]":gi(e),l=s?"[object Array]":gi(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d=u==l;if(d&&Un(e)){if(!Un(t))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new jn),a||Kn(e)?Sn(e,t,r,n,i,o):function(e,t,r,n,i,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Rn(e),new Rn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Vr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=An;case"[object Set]":var u=1&n;if(s||(s=Tn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;n|=2,a.set(e,t);var c=Sn(s(e),s(t),n,i,o,a);return a.delete(e),c;case"[object Symbol]":if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,u,r,n,i,o);if(!(1&r)){var f=c&&yi.call(e,"__wrapped__"),p=h&&yi.call(t,"__wrapped__");if(f||p){var v=f?e.value():e,m=p?t.value():t;return o||(o=new jn),i(v,m,r,n,o)}}return!!d&&(o||(o=new jn),function(e,t,r,n,i,o){var a=1&r,s=oi(e),u=s.length;if(u!=oi(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:ai.call(t,c)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var v=e[c=s[l]],m=t[c];if(n)var g=a?n(m,v,c,t,e,o):n(v,m,c,e,t,o);if(!(void 0===g?v===m||i(v,m,r,n,o):g)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,n,i,o))}function wi(e,t,r,n,i){return e===t||(null==e||null==t||!lt(e)&&!lt(t)?e!=e&&t!=t:bi(e,t,r,n,wi,i))}function ki(e){return e==e&&!dr(e)}function xi(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function Ei(e){var t=function(e){for(var t=ii(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ki(i)]}return t}(e);return 1==t.length&&t[0][2]?xi(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=r[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var h=new jn;if(n)var d=n(l,c,u,e,t,h);if(!(void 0===d?wi(c,l,3,n,h):d))return!1}}return!0}(r,e,t)}}function Ci(e,t){return null!=e&&t in Object(e)}function _i(e,t){return null!=e&&function(e,t,r){for(var n=-1,i=(t=Cn(t,e)).length,o=!1;++n<i;){var a=_n(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&fn(i)&&Hn(a,i)&&(tt(e)||sr(e))}(e,t,Ci)}function Pi(e){return bn(e)?(t=_n(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Pn(t,e)}}(e);var t}function Oi(e){return"function"==typeof e?e:null==e?rn:"object"==typeof e?tt(e)?(t=e[0],r=e[1],bn(t)&&ki(r)?xi(_n(t),r):function(e){var n=On(e,t);return void 0===n&&n===r?_i(e,t):wi(r,n,3)}):Ei(e):Pi(e);var t,r}var ji,Mi=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[ji?a:++n];if(!1===t(i[s],s,i))break}return e};var Si=function(e,t){return function(r,n){if(null==r)return r;if(!pn(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}((function(e,t){return e&&Mi(e,t,ii)}));function Ri(e,t){var r=-1,n=pn(e)?Array(e.length):[];return Si(e,(function(e,i,o){n[++r]=t(e,i,o)})),n}function Ai(e){var t=function(e){return e?(e=kr(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}var Ti=Je.isFinite,Li=Math.min;var zi=function(e){var t=Math[e];return function(e,r){if(e=kr(e),(r=null==r?0:Li(Ai(r),292))&&Ti(e)){var n=(pt(e)+"e").split("e");return+((n=(pt(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}("round");var Di=Zn&&Zn.isRegExp,Ii=Di?en(Di):function(e){return lt(e)&&"[object RegExp]"==ut(e)};var Ni=li&&1/Tn(new li([,-0]))[1]==1/0?function(e){return new li(e)}:function(){};
/*! Fast Average Color |  2021 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */
function Wi(e){const t=e.toString(16);return 1===t.length?"0"+t:t}function Bi(e){return"#"+e.map(Wi).join("")}function Fi(e,t,r){for(let n=0;n<r.length;n++)if(Ui(e,t,r[n]))return!0;return!1}function Ui(e,t,r){switch(r.length){case 3:if(function(e,t,r){if(255!==e[t+3])return!0;if(e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2])return!0;return!1}(e,t,r))return!0;break;case 4:if(function(e,t,r){if(e[t+3]&&r[3])return e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2]&&e[t+3]===r[3];return e[t+3]===r[3]}(e,t,r))return!0;break;case 5:if(function(e,t,r){const n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=e[t+3],l=Vi(u,a,s);if(!a)return l;if(!u&&l)return!0;if(Vi(e[t],n,s)&&Vi(e[t+1],i,s)&&Vi(e[t+2],o,s)&&l)return!0;return!1}(e,t,r))return!0;break;default:return!1}}function Vi(e,t,r){return e>=t-r&&e<=t+r}function Hi(e,t,r){const n={},i=r.ignoredColor,o=r.step;let a=[0,0,0,0,0];for(let r=0;r<t;r+=o){const t=e[r],o=e[r+1],s=e[r+2],u=e[r+3];if(i&&Fi(e,r,i))continue;const l=Math.round(t/24)+","+Math.round(o/24)+","+Math.round(s/24);n[l]?n[l]=[n[l][0]+t*u,n[l][1]+o*u,n[l][2]+s*u,n[l][3]+u,n[l][4]+1]:n[l]=[t*u,o*u,s*u,u,1],a[4]<n[l][4]&&(a=n[l])}const s=a[0],u=a[1],l=a[2],c=a[3],h=a[4];return c?[Math.round(s/c),Math.round(u/c),Math.round(l/c),Math.round(c/h)]:r.defaultColor}function qi(e,t,r){let n=0,i=0,o=0,a=0,s=0;const u=r.ignoredColor,l=r.step;for(let r=0;r<t;r+=l){const t=e[r+3],l=e[r]*t,c=e[r+1]*t,h=e[r+2]*t;u&&Fi(e,r,u)||(n+=l,i+=c,o+=h,a+=t,s++)}return a?[Math.round(n/a),Math.round(i/a),Math.round(o/a),Math.round(a/s)]:r.defaultColor}function Gi(e,t,r){let n=0,i=0,o=0,a=0,s=0;const u=r.ignoredColor,l=r.step;for(let r=0;r<t;r+=l){const t=e[r],l=e[r+1],c=e[r+2],h=e[r+3];u&&Fi(e,r,u)||(n+=t*t*h,i+=l*l*h,o+=c*c*h,a+=h,s++)}return a?[Math.round(Math.sqrt(n/a)),Math.round(Math.sqrt(i/a)),Math.round(Math.sqrt(o/a)),Math.round(a/s)]:r.defaultColor}function $i(e){return Yi(e,"defaultColor",[0,0,0,0])}function Yi(e,t,r){return void 0===e[t]?r:e[t]}function Zi(e,t,r){e.silent||(console.error("FastAverageColor: "+t),r&&console.error(r))}function Xi(e){return Error("FastAverageColor: "+e)}class Ki{getColorAsync(e,t){if(!e)return Promise.reject(Xi("call .getColorAsync() without resource."));if("string"==typeof e){const r=new Image;return r.crossOrigin="",r.src=e,this._bindImageEvents(r,t)}if(e instanceof Image&&!e.complete)return this._bindImageEvents(e,t);{const r=this.getColor(e,t);return r.error?Promise.reject(r.error):Promise.resolve(r)}}getColor(e,t){const r=$i(t=t||{});if(!e)return Zi(t,"call .getColor(null) without resource."),this.prepareResult(r);const n=function(e,t){const r=Yi(t,"left",0),n=Yi(t,"top",0),i=Yi(t,"width",e.width),o=Yi(t,"height",e.height);let a,s=i,u=o;return"precision"===t.mode||(i>o?(a=i/o,s=100,u=Math.round(s/a)):(a=o/i,u=100,s=Math.round(u/a)),(s>i||u>o||s<10||u<10)&&(s=i,u=o)),{srcLeft:r,srcTop:n,srcWidth:i,srcHeight:o,destWidth:s,destHeight:u}}(function(e){if(e instanceof HTMLImageElement){let t=e.naturalWidth,r=e.naturalHeight;return e.naturalWidth||-1===e.src.search(/\.svg(\?|$)/i)||(t=r=100),{width:t,height:r}}return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:{width:e.width,height:e.height}}(e),t);if(!(n.srcWidth&&n.srcHeight&&n.destWidth&&n.destHeight))return Zi(t,`incorrect sizes for resource "${e.src}".`),this.prepareResult(r);if(!this._ctx&&(this._canvas="undefined"==typeof window?new OffscreenCanvas(1,1):document.createElement("canvas"),this._ctx=this._canvas.getContext&&this._canvas.getContext("2d"),!this._ctx))return Zi(t,"Canvas Context 2D is not supported in this browser."),this.prepareResult(r);this._canvas.width=n.destWidth,this._canvas.height=n.destHeight;let i=r;try{this._ctx.clearRect(0,0,n.destWidth,n.destHeight),this._ctx.drawImage(e,n.srcLeft,n.srcTop,n.srcWidth,n.srcHeight,0,0,n.destWidth,n.destHeight);const r=this._ctx.getImageData(0,0,n.destWidth,n.destHeight).data;i=this.getColorFromArray4(r,t)}catch(r){Zi(t,`security error (CORS) for resource ${e.src}.\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`,r)}return this.prepareResult(i)}getColorFromArray4(e,t){t=t||{};const r=e.length,n=$i(t);if(r<4)return n;const i=r-r%4,o=4*(t.step||1);let a;switch(t.algorithm||"sqrt"){case"simple":a=qi;break;case"sqrt":a=Gi;break;case"dominant":a=Hi;break;default:throw Xi(t.algorithm+" is unknown algorithm.")}return a(e,i,{defaultColor:n,ignoredColor:(s=t.ignoredColor,s?Array.isArray(s)?"number"==typeof s[0]?[s.slice()]:s:[s]:s),step:o});var s}prepareResult(e){const t=e.slice(0,3),r=[].concat(t,e[3]/255),n=(299*(i=e)[0]+587*i[1]+114*i[2])/1e3<128;var i;return{value:e,rgb:"rgb("+t.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Bi(t),hexa:Bi(e),isDark:n,isLight:!n}}destroy(){delete this._canvas,delete this._ctx}_bindImageEvents(e,t){return new Promise((r,n)=>{const i=()=>{s();const i=this.getColor(e,t);i.error?n(i.error):r(i)},o=()=>{s(),n(Xi(`Error loading image "${e.src}".`))},a=()=>{s(),n(Xi(`Image "${e.src}" loading aborted.`))},s=()=>{e.removeEventListener("load",i),e.removeEventListener("error",o),e.removeEventListener("abort",a)};e.addEventListener("load",i),e.addEventListener("error",o),e.addEventListener("abort",a)})}}var Ji="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Ji&&Ji,Qi="URLSearchParams"in Ji,eo="Symbol"in Ji&&"iterator"in Symbol,to="FileReader"in Ji&&"Blob"in Ji&&function(){try{return new Blob,!0}catch(e){return!1}}(),ro="FormData"in Ji,no="ArrayBuffer"in Ji;if(no)var io=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],oo=ArrayBuffer.isView||function(e){return e&&io.indexOf(Object.prototype.toString.call(e))>-1};function ao(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function so(e){return"string"!=typeof e&&(e=String(e)),e}function uo(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return eo&&(t[Symbol.iterator]=function(){return t}),t}function lo(e){this.map={},e instanceof lo?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function co(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function ho(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function fo(e){var t=new FileReader,r=ho(t);return t.readAsArrayBuffer(e),r}function po(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function vo(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:to&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ro&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Qi&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():no&&to&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=po(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):no&&(ArrayBuffer.prototype.isPrototypeOf(e)||oo(e))?this._bodyArrayBuffer=po(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Qi&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},to&&(this.blob=function(){var e=co(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=co(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(fo)}),this.text=function(){var e,t,r,n=co(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=ho(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ro&&(this.formData=function(){return this.text().then(yo)}),this.json=function(){return this.text().then(JSON.parse)},this}lo.prototype.append=function(e,t){e=ao(e),t=so(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},lo.prototype.delete=function(e){delete this.map[ao(e)]},lo.prototype.get=function(e){return e=ao(e),this.has(e)?this.map[e]:null},lo.prototype.has=function(e){return this.map.hasOwnProperty(ao(e))},lo.prototype.set=function(e,t){this.map[ao(e)]=so(t)},lo.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},lo.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),uo(e)},lo.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),uo(e)},lo.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),uo(e)},eo&&(lo.prototype[Symbol.iterator]=lo.prototype.entries);var mo=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function go(e,t){if(!(this instanceof go))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof go){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new lo(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new lo(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),mo.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function yo(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function bo(e,t){if(!(this instanceof bo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new lo(t.headers),this.url=t.url||"",this._initBody(e)}go.prototype.clone=function(){return new go(this,{body:this._bodyInit})},vo.call(go.prototype),vo.call(bo.prototype),bo.prototype.clone=function(){return new bo(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new lo(this.headers),url:this.url})},bo.error=function(){var e=new bo(null,{status:0,statusText:""});return e.type="error",e};var wo=[301,302,303,307,308];bo.redirect=function(e,t){if(-1===wo.indexOf(t))throw new RangeError("Invalid status code");return new bo(null,{status:t,headers:{location:e}})};var ko=Ji.DOMException;try{new ko}catch(e){(ko=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),ko.prototype.constructor=ko}function xo(e,t){return new Promise((function(r,n){var i=new go(e,t);if(i.signal&&i.signal.aborted)return n(new ko("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new lo,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;setTimeout((function(){r(new bo(i,n))}),0)},o.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){n(new ko("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&Ji.location.href?Ji.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(to?o.responseType="blob":no&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof lo?i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,so(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}xo.polyfill=!0,Ji.fetch||(Ji.fetch=xo,Ji.Headers=lo,Ji.Request=go,Ji.Response=bo);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Eo,Co=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){
/*!
	 * wavesurfer.js 4.1.1 (2020-09-25)
	 * https://wavesurfer-js.org
	 * @license BSD-3-Clause
	 */
var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/wavesurfer.js")}({"./node_modules/debounce/index.js":
/*!****************************************!*\
	  !*** ./node_modules/debounce/index.js ***!
	  \****************************************/
/*! no static exports found */function(e,t){function r(e,t,r){var n,i,o,a,s;function u(){var l=Date.now()-a;l<t&&l>=0?n=setTimeout(u,t-l):(n=null,r||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var l=function(){o=this,i=arguments,a=Date.now();var l=r&&!n;return n||(n=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(o,i),o=i=null,clearTimeout(n),n=null)},l}r.debounce=r,e.exports=r},"./src/drawer.canvasentry.js":
/*!***********************************!*\
	  !*** ./src/drawer.canvasentry.js ***!
	  \***********************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(/*! ./util/style */"./src/util/style.js")),i=o(r(/*! ./util/get-id */"./src/util/get-id.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,i.default)(void 0!==this.constructor.name?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}var t,r,o;return t=e,(r=[{key:"initWave",value:function(e){this.wave=e,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(e){this.progress=e,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(e,t,r,i){this.start=this.wave.offsetLeft/t||0,this.end=this.start+e/t,this.wave.width=r,this.wave.height=i;var o={width:e+"px"};(0,n.default)(this.wave,o),this.hasProgressCanvas&&(this.progress.width=r,this.progress.height=i,(0,n.default)(this.progress,o))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(e,t){this.waveCtx.fillStyle=e,this.hasProgressCanvas&&(this.progressCtx.fillStyle=t)}},{key:"fillRects",value:function(e,t,r,n,i){this.fillRectToContext(this.waveCtx,e,t,r,n,i),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,e,t,r,n,i)}},{key:"fillRectToContext",value:function(e,t,r,n,i,o){e&&(o?this.drawRoundedRect(e,t,r,n,i,o):e.fillRect(t,r,n,i))}},{key:"drawRoundedRect",value:function(e,t,r,n,i,o){0!==i&&(i<0&&(r-=i*=-1),e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),e.fill())}},{key:"drawLines",value:function(e,t,r,n,i,o){this.drawLineToContext(this.waveCtx,e,t,r,n,i,o),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,e,t,r,n,i,o)}},{key:"drawLineToContext",value:function(e,t,r,n,i,o,a){if(e){var s,u,l,c=t.length/2,h=Math.round(c*this.start),d=h,f=Math.round(c*this.end)+1,p=this.wave.width/(f-d-1),v=n+i,m=r/n;for(e.beginPath(),e.moveTo((d-h)*p,v),e.lineTo((d-h)*p,v-Math.round((t[2*d]||0)/m)),s=d;s<f;s++)u=t[2*s]||0,l=Math.round(u/m),e.lineTo((s-h)*p+this.halfPixel,v-l);for(var g=f-1;g>=d;g--)u=t[2*g+1]||0,l=Math.round(u/m),e.lineTo((g-h)*p+this.halfPixel,v-l);e.lineTo((d-h)*p,v-Math.round((t[2*d+1]||0)/m)),e.closePath(),e.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(e,t,r){var n=this;return"blob"===r?new Promise((function(r){n.wave.toBlob(r,e,t)})):"dataURL"===r?this.wave.toDataURL(e,t):void 0}}])&&a(t.prototype,r),o&&a(t,o),e}();t.default=s,e.exports=t.default},"./src/drawer.js":
/*!***********************!*\
	  !*** ./src/drawer.js ***!
	  \***********************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,i,o=u(l);function l(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this)).container=e,r.params=t,r.width=0,r.height=t.height*r.params.pixelRatio,r.lastPos=0,r.wrapper=null,r}return t=l,(r=[{key:"style",value:function(e,t){return n.style(e,t)}},{key:"createWrapper",value:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,t){!t&&e.preventDefault();var r,i=e.targetTouches?e.targetTouches[0].clientX:e.clientX,o=this.wrapper.getBoundingClientRect(),a=this.width,s=this.getWidth();return r=!this.params.fillParent&&a<s?(this.params.rtl?o.right-i:i-o.left)*(this.params.pixelRatio/a)||0:((this.params.rtl?o.right-i:i-o.left)+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,n.clamp(r,0,1)}},{key:"setupWrapperEvents",value:function(){var e=this;this.wrapper.addEventListener("click",(function(t){var r=e.wrapper.offsetHeight-e.wrapper.clientHeight;if(0!==r){var n=e.wrapper.getBoundingClientRect();if(t.clientY>=n.bottom-r)return}e.params.interact&&e.fireEvent("click",t,e.handleEvent(t))})),this.wrapper.addEventListener("dblclick",(function(t){e.params.interact&&e.fireEvent("dblclick",t,e.handleEvent(t))})),this.wrapper.addEventListener("scroll",(function(t){return e.fireEvent("scroll",t)}))}},{key:"drawPeaks",value:function(e,t,r,n){this.setWidth(t)||this.clearWave(),this.params.barWidth?this.drawBars(e,0,r,n):this.drawWave(e,0,r,n)}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)}},{key:"recenterOnPosition",value:function(e,t){var r=this.wrapper.scrollLeft,n=~~(this.wrapper.clientWidth/2),i=this.wrapper.scrollWidth-this.wrapper.clientWidth,o=e-n,a=o-r;if(0!=i){if(!t&&-n<=a&&a<n){var s=this.params.autoCenterRate;s/=n,s*=i,o=r+(a=Math.max(-s,Math.min(s,a)))}(o=Math.max(0,Math.min(i,o)))!=r&&(this.wrapper.scrollLeft=o)}}},{key:"getScrollX",value:function(){var e=0;if(this.wrapper){var t=this.params.pixelRatio;if(e=Math.round(this.wrapper.scrollLeft*t),this.params.scrollParent){var r=~~(this.wrapper.scrollWidth*t-this.getWidth());e=Math.min(r,Math.max(0,e))}}return e}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(e){return this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"setHeight",value:function(e){return e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(e){var t=1/this.params.pixelRatio,r=Math.round(e*this.width)*t;if(r<this.lastPos||r-this.lastPos>=t){if(this.lastPos=r,this.params.scrollParent&&this.params.autoCenter){var n=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(n,this.params.autoCenterImmediately)}this.updateProgress(r)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container&&this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,r,n){}},{key:"drawWave",value:function(e,t,r,n){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}])&&a(t.prototype,r),i&&a(t,i),l}(n.Observer);t.default=h,e.exports=t.default},"./src/drawer.multicanvas.js":
/*!***********************************!*\
	  !*** ./src/drawer.multicanvas.js ***!
	  \***********************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(/*! ./drawer */"./src/drawer.js")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js")),o=s(r(/*! ./drawer.canvasentry */"./src/drawer.canvasentry.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,r,n,a=h(s);function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).maxCanvasWidth=t.maxCanvasWidth,r.maxCanvasElementWidth=Math.round(t.maxCanvasWidth/t.pixelRatio),r.hasProgressCanvas=t.waveColor!=t.progressColor,r.halfPixel=.5/t.pixelRatio,r.canvases=[],r.progressWave=null,r.EntryClass=o.default,r.canvasContextAttributes=t.drawingContextAttributes,r.overlap=2*Math.ceil(t.pixelRatio/2),r.barRadius=t.barRadius||0,r}return t=s,(r=[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"})),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var e=this,t=Math.round(this.width/this.params.pixelRatio),r=Math.ceil(t/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<r;)this.addCanvas();for(;this.canvases.length>r;)this.removeCanvas();var n=this.maxCanvasWidth+this.overlap,i=this.canvases.length-1;this.canvases.forEach((function(t,r){r==i&&(n=e.width-e.maxCanvasWidth*i),e.updateDimensions(t,n,e.height),t.clearWave()}))}},{key:"addCanvas",value:function(){var e=new this.EntryClass;e.canvasContextAttributes=this.canvasContextAttributes,e.hasProgressCanvas=this.hasProgressCanvas,e.halfPixel=this.halfPixel;var t=this.maxCanvasElementWidth*this.canvases.length;e.initWave(this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:2,left:t+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}))),this.hasProgressCanvas&&e.initProgress(this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0,height:"100%"}))),this.canvases.push(e)}},{key:"removeCanvas",value:function(){var e=this.canvases[this.canvases.length-1];e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress),e&&(e.destroy(),e=null),this.canvases.pop()}},{key:"updateDimensions",value:function(e,t,r){var n=Math.round(t/this.params.pixelRatio),i=Math.round(this.width/this.params.pixelRatio);e.updateDimensions(n,i,t,r),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var e=this;i.frame((function(){e.canvases.forEach((function(e){return e.clearWave()}))}))()}},{key:"drawBars",value:function(e,t,r,n){var i=this;return this.prepareDraw(e,t,r,n,(function(e){var t=e.absmax,o=e.hasMinVals,a=(e.height,e.offsetY),s=e.halfH,u=e.peaks;if(void 0!==r)for(var l=o?2:1,c=u.length/l,h=i.params.barWidth*i.params.pixelRatio,d=h+(null===i.params.barGap?Math.max(i.params.pixelRatio,~~(h/2)):Math.max(i.params.pixelRatio,i.params.barGap*i.params.pixelRatio)),f=c/i.width,p=n,v=r;v<p;v+=d){var m=u[Math.floor(v*f*l)]||0,g=Math.round(m/t*s);0==g&&i.params.barMinHeight&&(g=i.params.barMinHeight),i.fillRect(v+i.halfPixel,s-g+a,h+i.halfPixel,2*g,i.barRadius)}}))}},{key:"drawWave",value:function(e,t,r,n){var i=this;return this.prepareDraw(e,t,r,n,(function(e){var t=e.absmax,o=e.hasMinVals,a=(e.height,e.offsetY),s=e.halfH,u=e.peaks,l=e.channelIndex;if(!o){for(var c=[],h=u.length,d=0;d<h;d++)c[2*d]=u[d],c[2*d+1]=-u[d];u=c}void 0!==r&&i.drawLine(u,t,s,a,r,n,l),i.fillRect(0,s+a-i.halfPixel,i.width,i.halfPixel,i.barRadius)}))}},{key:"drawLine",value:function(e,t,r,n,i,o,a){var s=this,u=this.params.splitChannelsOptions.channelColors[a]||{},l=u.waveColor,c=u.progressColor;this.canvases.forEach((function(a,u){s.setFillStyles(a,l,c),a.drawLines(e,t,r,n,i,o)}))}},{key:"fillRect",value:function(e,t,r,n,i){for(var o=Math.floor(e/this.maxCanvasWidth),a=Math.min(Math.ceil((e+r)/this.maxCanvasWidth)+1,this.canvases.length),s=o;s<a;s++){var u=this.canvases[s],l=s*this.maxCanvasWidth,c={x1:Math.max(e,s*this.maxCanvasWidth),y1:t,x2:Math.min(e+r,s*this.maxCanvasWidth+u.wave.width),y2:t+n};c.x1<c.x2&&(this.setFillStyles(u),u.fillRects(c.x1-l,c.y1,c.x2-c.x1,c.y2-c.y1,i))}}},{key:"hideChannel",value:function(e){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(e)}},{key:"prepareDraw",value:function(e,t,r,n,o,a){var s=this;return i.frame((function(){if(e[0]instanceof Array){var u=e;if(s.params.splitChannels){var l=u.filter((function(e,t){return!s.hideChannel(t)}));return s.params.splitChannelsOptions.overlay||s.setHeight(Math.max(l.length,1)*s.params.height*s.params.pixelRatio),u.forEach((function(e,t){return s.prepareDraw(e,t,r,n,o,l.indexOf(e))}))}e=u[0]}if(!s.hideChannel(t)){var c=1/s.params.barHeight;if(s.params.normalize){var h=i.max(e),d=i.min(e);c=-d>h?-d:h}var f=[].some.call(e,(function(e){return e<0})),p=s.params.height*s.params.pixelRatio;return o({absmax:c,hasMinVals:f,height:p,offsetY:p*a||0,halfH:p/2,peaks:e,channelIndex:t})}}))()}},{key:"setFillStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.waveColor,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.params.progressColor;e.setFillStyles(t,r)}},{key:"getImage",value:function(e,t,r){if("blob"===r)return Promise.all(this.canvases.map((function(n){return n.getImage(e,t,r)})));if("dataURL"===r){var n=this.canvases.map((function(n){return n.getImage(e,t,r)}));return n.length>1?n:n[0]}}},{key:"updateProgress",value:function(e){this.style(this.progressWave,{width:e+"px"})}}])&&l(t.prototype,r),n&&l(t,n),s}(n.default);t.default=p,e.exports=t.default},"./src/mediaelement-webaudio.js":
/*!**************************************!*\
	  !*** ./src/mediaelement-webaudio.js ***!
	  \**************************************/
/*! no static exports found */function(e,t,r){var n;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,i=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).params=e,t.sourceMediaElement=null,t}return t=l,(r=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(e,t,r){a(c(l.prototype),"_load",this).call(this,e,t,r),this.createMediaElementSource(e)}},{key:"createMediaElementSource",value:function(e){this.sourceMediaElement=this.ac.createMediaElementSource(e),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(e,t){return this.resumeAudioContext(),a(c(l.prototype),"play",this).call(this,e,t)}},{key:"destroy",value:function(){a(c(l.prototype),"destroy",this).call(this),this.destroyWebAudio()}}])&&o(t.prototype,r),n&&o(t,n),l}(((n=r(/*! ./mediaelement */"./src/mediaelement.js"))&&n.__esModule?n:{default:n}).default);t.default=h,e.exports=t.default},"./src/mediaelement.js":
/*!*****************************!*\
	  !*** ./src/mediaelement.js ***!
	  \*****************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(/*! ./webaudio */"./src/webaudio.js"))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,r,n,i=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).params=e,t.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},t.mediaType=e.mediaType.toLowerCase(),t.elementPosition=e.elementPosition,t.peaks=null,t.playbackRate=1,t.volume=1,t.isMuted=!1,t.buffer=null,t.onPlayEnd=null,t.mediaListeners={},t}return t=a,(r=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var e=this;this.mediaListeners.error=function(){e.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){e.fireEvent("canplay")},this.mediaListeners.ended=function(){e.fireEvent("finish")},this.mediaListeners.play=function(){e.fireEvent("play")},this.mediaListeners.pause=function(){e.fireEvent("pause")},this.mediaListeners.seeked=function(t){e.fireEvent("seek")},this.mediaListeners.volumechange=function(t){e.isMuted=e.media.muted,e.isMuted?e.volume=0:e.volume=e.media.volume,e.fireEvent("volume")},Object.keys(this.mediaListeners).forEach((function(t){e.media.removeEventListener(t,e.mediaListeners[t]),e.media.addEventListener(t,e.mediaListeners[t])}))}},{key:"createTimer",value:function(){var e=this;this.on("play",(function t(){e.isPaused()||(e.fireEvent("audioprocess",e.getCurrentTime()),o.frame(t)())})),this.on("pause",(function(){e.fireEvent("audioprocess",e.getCurrentTime())}))}},{key:"load",value:function(e,t,r,n){var i=document.createElement(this.mediaType);i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,i.preload=null==n?"auto":n,i.src=e,i.style.width="100%";var o=t.querySelector(this.mediaType);o&&t.removeChild(o),t.appendChild(i),this._load(i,r,n)}},{key:"loadElt",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t,e.preload)}},{key:"_load",value:function(e,t,r){if(!(e instanceof HTMLMediaElement)||void 0===e.addEventListener)throw new Error("media parameter is not a valid media element");"function"!=typeof e.load||t&&"none"==r||e.load(),this.media=e,this._setupMediaListeners(),this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.isMuted=e.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var e=(this.buffer||this.media).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()}},{key:"play",value:function(e,t){this.seekTo(e);var r=this.media.play();return t&&this.setPlayEnd(t),r}},{key:"pause",value:function(){var e;return this.media&&(e=this.media.pause()),this.clearPlayEnd(),e}},{key:"setPlayEnd",value:function(e){var t=this;this.clearPlayEnd(),this._onPlayEnd=function(r){r>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(e,t,r){return this.buffer?l(f(a.prototype),"getPeaks",this).call(this,e,t,r):this.peaks||[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(e){this.volume=e,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(e){this.isMuted=this.media.muted=e}},{key:"destroy",value:function(){var e=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach((function(t){e.media&&e.media.removeEventListener(t,e.mediaListeners[t])})),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}])&&u(t.prototype,r),n&&u(t,n),a}(i.default);t.default=p,e.exports=t.default},"./src/peakcache.js":
/*!**************************!*\
	  !*** ./src/peakcache.js ***!
	  \**************************/
/*! no static exports found */function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clearPeakCache()}var t,r,i;return t=e,(r=[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(e,t,r){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var n=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<t;)i++;for(i%2==0&&n.push(t);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=r;)n.push(this.peakCacheRanges[i]),i++;i%2==0&&n.push(r),n=n.filter((function(e,t,r){return 0==t?e!=r[t+1]:t==r.length-1?e!=r[t-1]:e!=r[t-1]&&e!=r[t+1]})),this.peakCacheRanges=this.peakCacheRanges.concat(n),this.peakCacheRanges=this.peakCacheRanges.sort((function(e,t){return e-t})).filter((function(e,t,r){return 0==t?e!=r[t+1]:t==r.length-1?e!=r[t-1]:e!=r[t-1]&&e!=r[t+1]}));var o=[];for(i=0;i<n.length;i+=2)o.push([n[i],n[i+1]]);return o}},{key:"getCacheRanges",value:function(){var e,t=[];for(e=0;e<this.peakCacheRanges.length;e+=2)t.push([this.peakCacheRanges[e],this.peakCacheRanges[e+1]]);return t}}])&&n(t.prototype,r),i&&n(t,i),e}();t.default=i,e.exports=t.default},"./src/util/clamp.js":
/*!***************************!*\
	  !*** ./src/util/clamp.js ***!
	  \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return Math.min(Math.max(t,e),r)},e.exports=t.default},"./src/util/fetch.js":
/*!***************************!*\
	  !*** ./src/util/fetch.js ***!
	  \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("fetch options missing");if(!e.url)throw new Error("fetch url missing");var t=new i.default,r=new Headers,n=new Request(e.url);t.controller=new AbortController,e&&e.requestHeaders&&e.requestHeaders.forEach((function(e){r.append(e.key,e.value)}));var o=e.responseType||"json",s={method:e.method||"GET",headers:r,mode:e.mode||"cors",credentials:e.credentials||"same-origin",cache:e.cache||"default",redirect:e.redirect||"follow",referrer:e.referrer||"client",signal:t.controller.signal};return fetch(n,s).then((function(e){t.response=e;var r=!0;e.body||(r=!1);var n=e.headers.get("content-length");return null===n&&(r=!1),r?(t.onProgress=function(e){t.fireEvent("progress",e)},new Response(new ReadableStream(new a(t,n,e)),s)):e})).then((function(e){var t;if(e.ok)switch(o){case"arraybuffer":return e.arrayBuffer();case"json":return e.json();case"blob":return e.blob();case"text":return e.text();default:t="Unknown responseType: "+o}throw t||(t="HTTP error status: "+e.status),new Error(t)})).then((function(e){t.fireEvent("success",e)})).catch((function(e){t.fireEvent("error",e)})),t.fetchRequest=n,t};var n,i=(n=r(/*! ./observer */"./src/util/observer.js"))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.instance._reader=n.body.getReader(),this.total=parseInt(r,10),this.loaded=0}var t,r,n;return t=e,(r=[{key:"start",value:function(e){var t=this;!function r(){t.instance._reader.read().then((function(n){var i=n.done,o=n.value;if(i)return 0===t.total&&t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!1}),void e.close();t.loaded+=o.byteLength,t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!(0===t.total)}),e.enqueue(o),r()})).catch((function(t){e.error(t)}))}()}}])&&o(t.prototype,r),n&&o(t,n),e}();e.exports=t.default},"./src/util/frame.js":
/*!***************************!*\
	  !*** ./src/util/frame.js ***!
	  \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(0,i.default)((function(){return e.apply(void 0,r)}))}};var n,i=(n=r(/*! ./request-animation-frame */"./src/util/request-animation-frame.js"))&&n.__esModule?n:{default:n};e.exports=t.default},"./src/util/get-id.js":
/*!****************************!*\
	  !*** ./src/util/get-id.js ***!
	  \****************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e="wavesurfer_"),e+Math.random().toString(32).substring(2)},e.exports=t.default},"./src/util/index.js":
/*!***************************!*\
	  !*** ./src/util/index.js ***!
	  \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getId",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"max",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"min",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"style",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"preventClick",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"clamp",{enumerable:!0,get:function(){return f.default}});var n=p(r(/*! ./get-id */"./src/util/get-id.js")),i=p(r(/*! ./max */"./src/util/max.js")),o=p(r(/*! ./min */"./src/util/min.js")),a=p(r(/*! ./observer */"./src/util/observer.js")),s=p(r(/*! ./style */"./src/util/style.js")),u=p(r(/*! ./request-animation-frame */"./src/util/request-animation-frame.js")),l=p(r(/*! ./frame */"./src/util/frame.js")),c=p(r(/*! debounce */"./node_modules/debounce/index.js")),h=p(r(/*! ./prevent-click */"./src/util/prevent-click.js")),d=p(r(/*! ./fetch */"./src/util/fetch.js")),f=p(r(/*! ./clamp */"./src/util/clamp.js"));function p(e){return e&&e.__esModule?e:{default:e}}},"./src/util/max.js":
/*!*************************!*\
	  !*** ./src/util/max.js ***!
	  \*************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=-1/0;return Object.keys(e).forEach((function(r){e[r]>t&&(t=e[r])})),t},e.exports=t.default},"./src/util/min.js":
/*!*************************!*\
	  !*** ./src/util/min.js ***!
	  \*************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Number(1/0);return Object.keys(e).forEach((function(r){e[r]<t&&(t=e[r])})),t},e.exports=t.default},"./src/util/observer.js":
/*!******************************!*\
	  !*** ./src/util/observer.js ***!
	  \******************************/
/*! no static exports found */function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._disabledEventEmissions=[],this.handlers=null}var t,r,i;return t=e,(r=[{key:"on",value:function(e,t){var r=this;this.handlers||(this.handlers={});var n=this.handlers[e];return n||(n=this.handlers[e]=[]),n.push(t),{name:e,callback:t,un:function(e,t){return r.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var r,n=this.handlers[e];if(n)if(t)for(r=n.length-1;r>=0;r--)n[r]==t&&n.splice(r,1);else n.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(e,t){var r=this;return this.on(e,(function n(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(r,o),setTimeout((function(){r.un(e,n)}),0)}))}},{key:"setDisabledEventEmissions",value:function(e){this._disabledEventEmissions=e}},{key:"_isDisabledEventEmission",value:function(e){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(e)}},{key:"fireEvent",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.handlers&&!this._isDisabledEventEmission(e)){var i=this.handlers[e];i&&i.forEach((function(e){e.apply(void 0,r)}))}}}])&&n(t.prototype,r),i&&n(t,i),e}();t.default=i,e.exports=t.default},"./src/util/prevent-click.js":
/*!***********************************!*\
	  !*** ./src/util/prevent-click.js ***!
	  \***********************************/
/*! no static exports found */function(e,t,r){function n(e){e.stopPropagation(),document.body.removeEventListener("click",n,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){document.body.addEventListener("click",n,!0)},e.exports=t.default},"./src/util/request-animation-frame.js":
/*!*********************************************!*\
	  !*** ./src/util/request-animation-frame.js ***!
	  \*********************************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(window);t.default=n,e.exports=t.default},"./src/util/style.js":
/*!***************************!*\
	  !*** ./src/util/style.js ***!
	  \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.keys(t).forEach((function(r){e.style[r]!==t[r]&&(e.style[r]=t[r])})),e},e.exports=t.default},"./src/wavesurfer.js":
/*!***************************!*\
	  !*** ./src/wavesurfer.js ***!
	  \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js")),i=l(r(/*! ./drawer.multicanvas */"./src/drawer.multicanvas.js")),o=l(r(/*! ./webaudio */"./src/webaudio.js")),a=l(r(/*! ./mediaelement */"./src/mediaelement.js")),s=l(r(/*! ./peakcache */"./src/peakcache.js")),u=l(r(/*! ./mediaelement-webaudio */"./src/mediaelement-webaudio.js"));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e);var t=f(r);function r(e){var s;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(s=t.call(this)).defaultParams={audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:i.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[]},waveColor:"#999",xhr:{}},s.backends={MediaElement:a.default,WebAudio:o.default,MediaElementWebAudio:u.default},s.util=n,s.params=Object.assign({},s.defaultParams,e),s.container="string"==typeof e.container?document.querySelector(s.params.container):s.params.container,!s.container)throw new Error("Container element not found");if(null==s.params.mediaContainer?s.mediaContainer=s.container:"string"==typeof s.params.mediaContainer?s.mediaContainer=document.querySelector(s.params.mediaContainer):s.mediaContainer=s.params.mediaContainer,!s.mediaContainer)throw new Error("Media Container element not found");if(s.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(s.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===s.params.rtl&&n.style(s.container,{transform:"rotateY(180deg)"}),s.params.backgroundColor&&s.setBackgroundColor(s.params.backgroundColor),s.savedVolume=0,s.isMuted=!1,s.tmpEvents=[],s.currentRequest=null,s.arraybuffer=null,s.drawer=null,s.backend=null,s.peakCache=null,"function"!=typeof s.params.renderer)throw new Error("Renderer parameter is invalid");s.Drawer=s.params.renderer,"AudioElement"==s.params.backend&&(s.params.backend="MediaElement"),"WebAudio"!=s.params.backend&&"MediaElementWebAudio"!==s.params.backend||o.default.prototype.supportsWebAudio.call(null)||(s.params.backend="MediaElement"),s.Backend=s.backends[s.params.backend],s.initialisedPluginList={},s.isDestroyed=!1,s.isReady=!1;var l=0;return s._onResize=n.debounce((function(){l==s.drawer.wrapper.clientWidth||s.params.scrollParent||(l=s.drawer.wrapper.clientWidth,s.drawer.fireEvent("redraw"))}),"number"==typeof s.params.responsive?s.params.responsive:100),p(s,v(s))}return y(r,null,[{key:"create",value:function(e){return new r(e).init()}}]),y(r,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(e){var t=this;return e.forEach((function(e){return t.addPlugin(e)})),e.forEach((function(e){e.deferInit||t.initPlugin(e.name)})),this.fireEvent("plugins-registered",e),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(e){var t=this;if(!e.name)throw new Error("Plugin does not have a name!");if(!e.instance)throw new Error("Plugin ".concat(e.name," does not have an instance property!"));e.staticProps&&Object.keys(e.staticProps).forEach((function(r){t[r]=e.staticProps[r]}));var r=e.instance;return Object.getOwnPropertyNames(n.Observer.prototype).forEach((function(e){r.prototype[e]=n.Observer.prototype[e]})),this[e.name]=new r(e.params||{},this),this.fireEvent("plugin-added",e.name),this}},{key:"initPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet!"));return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent("plugin-initialised",e),this}},{key:"destroyPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[e])throw new Error("Plugin ".concat(e," is not active and cannot be destroyed!"));if("function"!=typeof this[e].destroy)throw new Error("Plugin ".concat(e," does not have a destroy function!"));return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent("plugin-destroyed",e),this}},{key:"destroyAllPlugins",value:function(){var e=this;Object.keys(this.initialisedPluginList).forEach((function(t){return e.destroyPlugin(t)}))}},{key:"createDrawer",value:function(){var e=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",(function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())})),this.drawer.on("click",(function(t,r){setTimeout((function(){return e.seekTo(r)}),0)})),this.drawer.on("scroll",(function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent("scroll",t)}))}},{key:"createBackend",value:function(){var e=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",(function(){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("finish")})),this.backend.on("play",(function(){return e.fireEvent("play")})),this.backend.on("pause",(function(){return e.fireEvent("pause")})),this.backend.on("audioprocess",(function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})),"MediaElement"!==this.params.backend&&"MediaElementWebAudio"!==this.params.backend||(this.backend.on("seek",(function(){e.drawer.progress(e.backend.getPlayedPercents())})),this.backend.on("volume",(function(){var t=e.getVolume();e.fireEvent("volume",t),e.backend.isMuted!==e.isMuted&&(e.isMuted=e.backend.isMuted,e.fireEvent("mute",e.isMuted))})))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new s.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(e){e>=this.getDuration()?this.seekTo(1):this.seekTo(e/this.getDuration())}},{key:"play",value:function(e,t){var r=this;return this.fireEvent("interaction",(function(){return r.play(e,t)})),this.backend.play(e,t)}},{key:"setPlayEnd",value:function(e){this.backend.setPlayEnd(e)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:"skipForward",value:function(e){this.skip(e||this.params.skipLength)}},{key:"skip",value:function(e){var t=this.getDuration()||1,r=this.getCurrentTime()||0;r=Math.max(0,Math.min(t,r+(e||0))),this.seekAndCenter(r/t)}},{key:"seekAndCenter",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:"seekTo",value:function(e){var t=this;if("number"!=typeof e||!isFinite(e)||e<0||e>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",(function(){return t.seekTo(e)}));var r=this.backend.isPaused();r||this.backend.pause();var n=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(e),r||this.backend.play(),this.params.scrollParent=n,this.fireEvent("seek",e)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",value:function(e){this.backend.setVolume(e),this.fireEvent("volume",e)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(e){this.backend.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(e){e!==this.isMuted?(this.backend.setMute?(this.backend.setMute(e),this.isMuted=e):e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)):this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){return this.params.waveColor}},{key:"setWaveColor",value:function(e){this.params.waveColor=e,this.drawBuffer()}},{key:"getProgressColor",value:function(){return this.params.progressColor}},{key:"setProgressColor",value:function(e){this.params.progressColor=e,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(e){this.params.backgroundColor=e,n.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(e){this.params.cursorColor=e,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(e){this.params.height=e,this.drawer.setHeight(e*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(e){this.params.splitChannelsOptions.filterChannels=e,this.drawBuffer()}},{key:"drawBuffer",value:function(){var e,t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),r=this.drawer.getWidth(),n=t,i=0,o=Math.max(i+r,n);if(this.params.fillParent&&(!this.params.scrollParent||t<r)&&(i=0,o=n=r),this.params.partialRender){var a,s=this.peakCache.addRangeToPeakCache(n,i,o);for(a=0;a<s.length;a++)e=this.backend.getPeaks(n,s[a][0],s[a][1]),this.drawer.drawPeaks(e,n,s[a][0],s[a][1])}else e=this.backend.getPeaks(n,i,o),this.drawer.drawPeaks(e,n,i,o);this.fireEvent("redraw",e,n)}},{key:"zoom",value:function(e){e?(this.params.minPxPerSec=e,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)}},{key:"loadArrayBuffer",value:function(e){var t=this;this.decodeArrayBuffer(e,(function(e){t.isDestroyed||t.loadDecodedBuffer(e)}))}},{key:"loadDecodedBuffer",value:function(e){this.backend.load(e),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(e){var t=this,r=new FileReader;r.addEventListener("progress",(function(e){return t.onProgress(e)})),r.addEventListener("load",(function(e){return t.loadArrayBuffer(e.target.result)})),r.addEventListener("error",(function(){return t.fireEvent("error","Error reading file")})),r.readAsArrayBuffer(e),this.empty()}},{key:"load",value:function(e,t,r,n){if(!e)throw new Error("url parameter cannot be empty");if(this.empty(),r){var i={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(r),"Peaks are not provided":!t,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!=typeof e},o=Object.keys(i).filter((function(e){return i[e]}));o.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+o.join("\n\t- ")),r=null)}switch(this.params.backend){case"WebAudio":return this.loadBuffer(e,t,n);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(e,t,r,n)}}},{key:"loadBuffer",value:function(e,t,r){var n=this,i=function(t){return t&&n.tmpEvents.push(n.once("ready",t)),n.getArrayBuffer(e,(function(e){return n.loadArrayBuffer(e)}))};if(!t)return i();this.backend.setPeaks(t,r),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",i))}},{key:"loadMediaElement",value:function(e,t,r,n){var i=this,o=e;if("string"==typeof e)this.backend.load(o,this.mediaContainer,t,r);else{var a=e;this.backend.loadElt(a,t),o=a.src}this.tmpEvents.push(this.backend.once("canplay",(function(){i.backend.destroyed||(i.drawBuffer(),i.isReady=!0,i.fireEvent("ready"))})),this.backend.once("error",(function(e){return i.fireEvent("error",e)}))),t&&(this.backend.setPeaks(t,n),this.drawBuffer()),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(o,(function(e){i.decodeArrayBuffer(e,(function(e){i.backend.buffer=e,i.backend.setPeaks(null),i.drawBuffer(),i.fireEvent("waveform-ready")}))}))}},{key:"decodeArrayBuffer",value:function(e,t){var r=this;this.arraybuffer=e,this.backend.decodeArrayBuffer(e,(function(n){r.isDestroyed||r.arraybuffer!=e||(t(n),r.arraybuffer=null)}),(function(){return r.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(e,t){var r=this,i=Object.assign({url:e,responseType:"arraybuffer"},this.params.xhr),o=n.fetchFile(i);return this.currentRequest=o,this.tmpEvents.push(o.on("progress",(function(e){r.onProgress(e)})),o.on("success",(function(e){t(e),r.currentRequest=null})),o.on("error",(function(e){r.fireEvent("error",e),r.currentRequest=null}))),o}},{key:"onProgress",value:function(e){var t;t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6),this.fireEvent("loading",Math.round(100*t),e.target)}},{key:"exportPCM",value:function(e,t,r,n,i){e=e||1024,n=n||0,t=t||1e4,r=r||!1;var o=this.backend.getPeaks(e,n,i),a=[].map.call(o,(function(e){return Math.round(e*t)/t}));return new Promise((function(e,t){var n=JSON.stringify(a);r||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(n)),e(n)}))}},{key:"exportImage",value:function(e,t,r){return e||(e="image/png"),t||(t=1),r||(r="dataURL"),this.drawer.getImage(e,t,r)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch((function(e){})),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach((function(e){return e.un()}))}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&this.backend.destroy(),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}]),r}(n.Observer);t.default=b,b.VERSION="4.1.1",b.util=n,e.exports=t.default},"./src/webaudio.js":
/*!*************************!*\
	  !*** ./src/webaudio.js ***!
	  \*************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t=c(r);function r(e){var n,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=t.call(this)).audioContext=null,o.offlineAudioContext=null,o.stateBehaviors=(a(n={},"playing",{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),a(n,"paused",{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),a(n,"finished",{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),n),o.params=e,o.ac=e.audioContext||(o.supportsWebAudio()?o.getAudioContext():{}),o.lastPlay=o.ac.currentTime,o.startPosition=0,o.scheduledPause=null,o.states=(a(i={},"playing",Object.create(o.stateBehaviors.playing)),a(i,"paused",Object.create(o.stateBehaviors.paused)),a(i,"finished",Object.create(o.stateBehaviors.finished)),i),o.buffer=null,o.filters=[],o.gainNode=null,o.mergedPeaks=null,o.offlineAc=null,o.peaks=null,o.playbackRate=1,o.analyser=null,o.scriptNode=null,o.source=null,o.splitPeaks=[],o.state=null,o.explicitDuration=e.duration,o.destroyed=!1,o}return u(r,[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}}]),u(r,[{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState("paused"),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach((function(e){e&&e.disconnect()})),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.setFilters(t)}},{key:"setFilters",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce((function(e,t){return e.connect(t),t}),this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(r.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(r.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState("finished"),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states.playing&&e.fireEvent("audioprocess",t)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=function(){}}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(e){if(e){var t=new window.Audio;if(!t.setSinkId)return Promise.reject(new Error("setSinkId is not supported in your browser"));t.autoplay=!0;var r=this.ac.createMediaStreamDestination();return this.gainNode.disconnect(),this.gainNode.connect(r),t.srcObject=r.stream,t.setSinkId(e)}return Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",value:function(e){this.gainNode.gain.setValueAtTime(e,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(e,t,r){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,(function(e){return t(e)}),r)}},{key:"setPeaks",value:function(e,t){null!=t&&(this.explicitDuration=t),this.peaks=e}},{key:"setLength",value:function(e){if(!this.mergedPeaks||e!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];var t,r=this.buffer?this.buffer.numberOfChannels:1;for(t=0;t<r;t++)this.splitPeaks[t]=[],this.splitPeaks[t][2*(e-1)]=0,this.splitPeaks[t][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:"getPeaks",value:function(e,t,r){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(t=t||0,r=r||e-1,this.setLength(e),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var n=this.createBuffer(1,4096,this.sampleRate);this.buffer=n.buffer}var i,o=this.buffer.length/e,a=~~(o/10)||1,s=this.buffer.numberOfChannels;for(i=0;i<s;i++){var u=this.splitPeaks[i],l=this.buffer.getChannelData(i),c=void 0;for(c=t;c<=r;c++){var h=~~(c*o),d=~~(h+o),f=l[h],p=f,v=void 0;for(v=h;v<d;v+=a){var m=l[v];m>p&&(p=m),m<f&&(f=m)}u[2*c]=p,u[2*c+1]=f,(0==i||p>this.mergedPeaks[2*c])&&(this.mergedPeaks[2*c]=p),(0==i||f<this.mergedPeaks[2*c+1])&&(this.mergedPeaks[2*c+1]=f)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states.playing}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states.finished&&this.setState("paused"),{start:e,end:t}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(e,t){if(this.buffer){this.createSource();var r=this.seekTo(e,t);e=r.start,t=r.end,this.scheduledPause=t,this.source.start(0,e),this.resumeAudioContext(),this.setState("playing"),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState("paused"),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},{key:"setPlayEnd",value:function(e){this.scheduledPause=e}}]),r}(n.Observer);t.default=f,f.scriptBufferSize=256,e.exports=t.default}})},e.exports=r()})),_o=(Eo=Co)&&Eo.__esModule&&Object.prototype.hasOwnProperty.call(Eo,"default")?Eo.default:Eo;class Po{static create(e){return{name:"microphone",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,instance:Po}}constructor(e,t){this.params=e,this.wavesurfer=t,this.active=!1,this.paused=!1,this.browser=this.detectBrowser(),this.reloadBufferFunction=e=>this.reloadBuffer(e);const r=(e,t,r)=>{const n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n?new Promise((t,r)=>{n.call(navigator,e,t,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=r),this.constraints=this.params.constraints||{video:!1,audio:!0},this.bufferSize=this.params.bufferSize||4096,this.numberOfInputChannels=this.params.numberOfInputChannels||1,this.numberOfOutputChannels=this.params.numberOfOutputChannels||1,this._onBackendCreated=()=>{this.micContext=this.wavesurfer.backend.getAudioContext()}}init(){this.wavesurfer.on("backend-created",this._onBackendCreated),this.wavesurfer.backend&&this._onBackendCreated()}destroy(){this.paused=!0,this.wavesurfer.un("backend-created",this._onBackendCreated),this.stop()}start(){navigator.mediaDevices.getUserMedia(this.constraints).then(e=>this.gotStream(e)).catch(e=>this.deviceError(e))}togglePlay(){this.active?(this.paused=!this.paused,this.paused?this.pause():this.play()):this.start()}play(){this.paused=!1,this.connect()}pause(){this.paused=!0,this.disconnect()}stop(){this.active&&(this.stopDevice(),this.wavesurfer.empty())}stopDevice(){if(this.active=!1,this.disconnect(),this.stream){if(("chrome"===this.browser.browser&&this.browser.version>=45||"firefox"===this.browser.browser&&this.browser.version>=44||"edge"===this.browser.browser||"safari"===this.browser.browser)&&this.stream.getTracks)return void this.stream.getTracks().forEach(e=>e.stop());this.stream.stop()}}connect(){void 0!==this.stream&&("edge"===this.browser.browser&&(this.localAudioBuffer=this.micContext.createBuffer(this.numberOfInputChannels,this.bufferSize,this.micContext.sampleRate)),this.mediaStreamSource=this.micContext.createMediaStreamSource(this.stream),this.levelChecker=this.micContext.createScriptProcessor(this.bufferSize,this.numberOfInputChannels,this.numberOfOutputChannels),this.mediaStreamSource.connect(this.levelChecker),this.levelChecker.connect(this.micContext.destination),this.levelChecker.onaudioprocess=this.reloadBufferFunction)}disconnect(){void 0!==this.mediaStreamSource&&this.mediaStreamSource.disconnect(),void 0!==this.levelChecker&&(this.levelChecker.disconnect(),this.levelChecker.onaudioprocess=void 0),void 0!==this.localAudioBuffer&&(this.localAudioBuffer=void 0)}reloadBuffer(e){if(!this.paused)if(this.wavesurfer.empty(),"edge"===this.browser.browser){let t,r;for(t=0,r=Math.min(this.localAudioBuffer.numberOfChannels,e.inputBuffer.numberOfChannels);t<r;t++)this.localAudioBuffer.getChannelData(t).set(e.inputBuffer.getChannelData(t));this.wavesurfer.loadDecodedBuffer(this.localAudioBuffer)}else this.wavesurfer.loadDecodedBuffer(e.inputBuffer)}gotStream(e){this.stream=e,this.active=!0,this.play(),this.fireEvent("deviceReady",e)}deviceError(e){this.fireEvent("deviceError",e)}extractVersion(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}detectBrowser(){const e={browser:null,version:null,minVersion:null};return"undefined"!=typeof window&&window.navigator?navigator.mozGetUserMedia?(e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1),e.minVersion=31,e):navigator.webkitGetUserMedia?(e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2),e.minVersion=38,e):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547,e):window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)?(e.browser="safari",e.minVersion=11,e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1),e):(e.browser="Not a supported browser.",e):(e.browser="Not a supported browser.",e)}}class Oo{constructor(e,t,r){this.wavesurfer=r,this.wrapper=r.drawer.wrapper,this.util=r.util,this.style=this.util.style,this.regionsUtil=t,this.id=null==e.id?r.util.getId():e.id,this.start=Number(e.start)||0,this.end=null==e.end?this.start+4/this.wrapper.scrollWidth*this.wavesurfer.getDuration():Number(e.end),this.resize=void 0===e.resize||Boolean(e.resize),this.drag=void 0===e.drag||Boolean(e.drag),this.isResizing=!1,this.isDragging=!1,this.loop=Boolean(e.loop),this.color=e.color||"rgba(0, 0, 0, 0.1)",this.handleStyle=e.handleStyle||{left:{},right:{}},this.handleLeftEl=null,this.handleRightEl=null,this.data=e.data||{},this.attributes=e.attributes||{},this.maxLength=e.maxLength,this.minLength=e.minLength,this._onRedraw=()=>this.updateRender(),this.scroll=!1!==e.scroll&&r.params.scrollParent,this.scrollSpeed=e.scrollSpeed||1,this.scrollThreshold=e.scrollThreshold||10,this.preventContextMenu=void 0!==e.preventContextMenu&&Boolean(e.preventContextMenu);let n=null==e.channelIdx?-1:parseInt(e.channelIdx);if(this.regionHeight="100%",this.marginTop="0px",-1!==n){let e=null!=this.wavesurfer.backend.buffer?this.wavesurfer.backend.buffer.numberOfChannels:-1;e>=0&&n<e&&(this.regionHeight=Math.floor(1/e*100)+"%",this.marginTop=this.wavesurfer.getHeight()*n+"px")}this.formatTimeCallback=e.formatTimeCallback,this.edgeScrollWidth=e.edgeScrollWidth,this.bindInOut(),this.render(),this.wavesurfer.on("zoom",this._onRedraw),this.wavesurfer.on("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-created",this)}update(e){null!=e.start&&(this.start=Number(e.start)),null!=e.end&&(this.end=Number(e.end)),null!=e.loop&&(this.loop=Boolean(e.loop)),null!=e.color&&(this.color=e.color),null!=e.handleStyle&&(this.handleStyle=e.handleStyle),null!=e.data&&(this.data=e.data),null!=e.resize&&(this.resize=Boolean(e.resize),this.updateHandlesResize(this.resize)),null!=e.drag&&(this.drag=Boolean(e.drag)),null!=e.maxLength&&(this.maxLength=Number(e.maxLength)),null!=e.minLength&&(this.minLength=Number(e.minLength)),null!=e.attributes&&(this.attributes=e.attributes),this.updateRender(),this.fireEvent("update"),this.wavesurfer.fireEvent("region-updated",this)}remove(){this.element&&(this.wrapper.removeChild(this.element),this.element=null,this.fireEvent("remove"),this.wavesurfer.un("zoom",this._onRedraw),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-removed",this))}play(e){const t=e||this.start;this.wavesurfer.play(t,this.end),this.fireEvent("play"),this.wavesurfer.fireEvent("region-play",this)}playLoop(e){this.loop=!0,this.play(e)}setLoop(e){this.loop=e}render(){const e=document.createElement("region");e.className="wavesurfer-region",e.title=this.formatTime(this.start,this.end),e.setAttribute("data-id",this.id);for(const t in this.attributes)e.setAttribute("data-region-"+t,this.attributes[t]);if(this.style(e,{position:"absolute",zIndex:2,height:this.regionHeight,top:this.marginTop}),this.resize){this.handleLeftEl=e.appendChild(document.createElement("handle")),this.handleRightEl=e.appendChild(document.createElement("handle")),this.handleLeftEl.className="wavesurfer-handle wavesurfer-handle-start",this.handleRightEl.className="wavesurfer-handle wavesurfer-handle-end";const t={cursor:"col-resize",position:"absolute",top:"0px",width:"2px",height:"100%",backgroundColor:"rgba(0, 0, 0, 1)"},r="none"!==this.handleStyle.left?Object.assign({left:"0px"},t,this.handleStyle.left):null,n="none"!==this.handleStyle.right?Object.assign({right:"0px"},t,this.handleStyle.right):null;r&&this.style(this.handleLeftEl,r),n&&this.style(this.handleRightEl,n)}this.element=this.wrapper.appendChild(e),this.updateRender(),this.bindEvents(e)}formatTime(e,t){return this.formatTimeCallback?this.formatTimeCallback(e,t):(e==t?[e]:[e,t]).map(e=>[Math.floor(e%3600/60),("00"+Math.floor(e%60)).slice(-2)].join(":")).join("-")}getWidth(){return this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio}updateRender(){const e=this.wavesurfer.getDuration(),t=this.getWidth();var r=this.start,n=this.end;if(r<0&&(n-=r=0),n>e&&(r=e-((n=e)-r)),null!=this.minLength&&(n=Math.max(r+this.minLength,n)),null!=this.maxLength&&(n=Math.min(r+this.maxLength,n)),null!=this.element){const i=Math.round(r/e*t),o=Math.round(n/e*t)-i;this.style(this.element,{left:i+"px",width:o+"px",backgroundColor:this.color,cursor:this.drag?"move":"default"});for(const e in this.attributes)this.element.setAttribute("data-region-"+e,this.attributes[e]);this.element.title=this.formatTime(this.start,this.end)}}bindInOut(){this.firedIn=!1,this.firedOut=!1;const e=e=>{let t=Math.round(10*this.start)/10,r=Math.round(10*this.end)/10;e=Math.round(10*e)/10,!this.firedOut&&this.firedIn&&(t>e||r<=e)&&(this.firedOut=!0,this.firedIn=!1,this.fireEvent("out"),this.wavesurfer.fireEvent("region-out",this)),!this.firedIn&&t<=e&&r>e&&(this.firedIn=!0,this.firedOut=!1,this.fireEvent("in"),this.wavesurfer.fireEvent("region-in",this))};this.wavesurfer.backend.on("audioprocess",e),this.on("remove",()=>{this.wavesurfer.backend.un("audioprocess",e)}),this.on("out",()=>{if(this.loop){const e=this.wavesurfer.getCurrentTime();e>=this.start&&e<=this.end&&this.wavesurfer.play(this.start)}})}bindEvents(){const e=this.preventContextMenu;this.element.addEventListener("mouseenter",e=>{this.fireEvent("mouseenter",e),this.wavesurfer.fireEvent("region-mouseenter",this,e)}),this.element.addEventListener("mouseleave",e=>{this.fireEvent("mouseleave",e),this.wavesurfer.fireEvent("region-mouseleave",this,e)}),this.element.addEventListener("click",e=>{e.preventDefault(),this.fireEvent("click",e),this.wavesurfer.fireEvent("region-click",this,e)}),this.element.addEventListener("dblclick",e=>{e.stopPropagation(),e.preventDefault(),this.fireEvent("dblclick",e),this.wavesurfer.fireEvent("region-dblclick",this,e)}),this.element.addEventListener("contextmenu",t=>{e&&t.preventDefault(),this.fireEvent("contextmenu",t),this.wavesurfer.fireEvent("region-contextmenu",this,t)}),(this.drag||this.resize)&&this.bindDragEvents()}bindDragEvents(){const e=this.wavesurfer.drawer.container,t=this.scrollSpeed;this.scrollThreshold;let r,n,i,o,a,s,u,l,c,h=!1;const d=e=>{const n=this.wavesurfer.getDuration();if(!s||!i&&!a)return;const h=e.clientX;let f=0,p=0,v=0,m=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(e)*n);if(i)-1===s?(p=l*this.wavesurfer.params.minPxPerSec,f=h-u.left):(p=c*this.wavesurfer.params.minPxPerSec,f=u.right-h);else{let e=this.minLength;e||(e=0),"start"===a?(m>this.end-e&&(m=this.end-e,v=t*s),m<0&&(m=0)):"end"===a&&(m<this.start+e&&(m=this.start+e,v=t*s),m>n&&(m=n))}if(-1===s){if(0===Math.round(this.wrapper.scrollLeft))return;if(Math.round(this.wrapper.scrollLeft-p+f)<=0)return}else{if(Math.round(this.wrapper.scrollLeft)===o)return;if(Math.round(this.wrapper.scrollLeft+p-f)>=o)return}let g=this.wrapper.scrollLeft-v+t*s;if(-1===s){const e=Math.max(0+p-f,g);this.wrapper.scrollLeft=g=e}else{const e=Math.min(o-p+f,g);this.wrapper.scrollLeft=g=e}const y=m-r;r=m,i?this.onDrag(y):this.onResize(y,a),window.requestAnimationFrame(()=>{d(e)})},f=e=>{const t=this.wavesurfer.getDuration();e.touches&&e.touches.length>1||(n=e.targetTouches?e.targetTouches[0].identifier:null,(this.drag||this.resize)&&e.stopPropagation(),r=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(e,!0)*t),l=r-this.start,c=this.end-r,o=this.wrapper.scrollWidth-this.wrapper.clientWidth,u=this.wrapper.getBoundingClientRect(),this.isResizing=!1,this.isDragging=!1,"handle"===e.target.tagName.toLowerCase()?(this.isResizing=!0,a=e.target.classList.contains("wavesurfer-handle-start")?"start":"end"):(this.isDragging=!0,i=!0,a=!1))},p=e=>{e.touches&&e.touches.length>1||((i||a)&&(this.isDragging=!1,this.isResizing=!1,i=!1,s=null,a=!1),h&&(h=!1,this.util.preventClick(),this.fireEvent("update-end",e),this.wavesurfer.fireEvent("region-update-end",this,e)))},v=t=>{const o=this.wavesurfer.getDuration();if(t.touches&&t.touches.length>1)return;if(t.targetTouches&&t.targetTouches[0].identifier!=n)return;if(!i&&!a)return;let f=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(t)*o);if(i){const e=this.wavesurfer.getDuration();f>e-c&&(f=e-c),f-l<0&&(f=l)}if(a){let e=this.minLength;e||(e=0),"start"===a?(f>this.end-e&&(f=this.end-e),f<0&&(f=0)):"end"===a&&(f<this.start+e&&(f=this.start+e),f>o&&(f=o))}let p=f-r;if(r=f,this.drag&&i&&(h=h||!!p,this.onDrag(p)),this.resize&&a&&(h=h||!!p,this.onResize(p,a)),this.scroll&&e.clientWidth<this.wrapper.scrollWidth){if(i){let e=t.clientX;s=e<u.left+this.edgeScrollWidth?-1:e>u.right-this.edgeScrollWidth?1:null}else{let e=t.clientX;s=e<u.left+this.edgeScrollWidth?-1:e>u.right-this.edgeScrollWidth?1:null}s&&d(t)}};this.element.addEventListener("mousedown",f),this.element.addEventListener("touchstart",f),document.body.addEventListener("mousemove",v),document.body.addEventListener("touchmove",v),document.body.addEventListener("mouseup",p),document.body.addEventListener("touchend",p),this.on("remove",()=>{document.body.removeEventListener("mouseup",p),document.body.removeEventListener("touchend",p),document.body.removeEventListener("mousemove",v),document.body.removeEventListener("touchmove",v)}),this.wavesurfer.on("destroy",()=>{document.body.removeEventListener("mouseup",p),document.body.removeEventListener("touchend",p)})}onDrag(e){const t=this.wavesurfer.getDuration();this.end+e>t&&(e=t-this.end),this.start+e<0&&(e=-1*this.start),this.update({start:this.start+e,end:this.end+e})}onResize(e,t){const r=this.wavesurfer.getDuration();"start"===t?(e>0&&this.end-(this.start+e)<this.minLength&&(e=this.end-this.minLength-this.start),e<0&&this.start+e<0&&(e=-1*this.start),this.update({start:Math.min(this.start+e,this.end),end:Math.max(this.start+e,this.end)})):(e<0&&this.end+e-this.start<this.minLength&&(e=this.start+this.minLength-this.end),e>0&&this.end+e>r&&(e=r-this.end),this.update({start:Math.min(this.end+e,this.start),end:Math.max(this.end+e,this.start)}))}updateHandlesResize(e){const t=e?"col-resize":"auto";this.handleLeftEl&&this.style(this.handleLeftEl,{cursor:t}),this.handleRightEl&&this.style(this.handleRightEl,{cursor:t})}}class jo{static create(e){return{name:"regions",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,staticProps:{addRegion(e){return this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.add(e)},clearRegions(){this.regions&&this.regions.clear()},enableDragSelection(e){this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.enableDragSelection(e)},disableDragSelection(){this.regions.disableDragSelection()}},instance:jo}}constructor(e,t){this.params=e,this.wavesurfer=t,this.util={...t.util,getRegionSnapToGridValue:t=>this.getRegionSnapToGridValue(t,e)},this.maxRegions=e.maxRegions,this.regionsMinLength=e.regionsMinLength||null;Object.getOwnPropertyNames(this.util.Observer.prototype).forEach(e=>{Oo.prototype[e]=this.util.Observer.prototype[e]}),this.wavesurfer.Region=Oo,this._onBackendCreated=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.params.regions&&this.params.regions.forEach(e=>{e.edgeScrollWidth=this.params.edgeScrollWidth||.05*this.wrapper.clientWidth,this.add(e)})},this.list={},this._onReady=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.params.dragSelection&&this.enableDragSelection(this.params),Object.keys(this.list).forEach(e=>{this.list[e].updateRender()})}}init(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}destroy(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.disableDragSelection(),this.clear()}wouldExceedMaxRegions(){return this.maxRegions&&Object.keys(this.list).length>=this.maxRegions}add(e){if(this.wouldExceedMaxRegions())return null;!e.minLength&&this.regionsMinLength&&(e={...e,minLength:this.regionsMinLength});const t=new this.wavesurfer.Region(e,this.util,this.wavesurfer);return this.list[t.id]=t,t.on("remove",()=>{delete this.list[t.id]}),t}clear(){Object.keys(this.list).forEach(e=>{this.list[e].remove()})}enableDragSelection(e){this.disableDragSelection();const t=e.slop||2,r=this.wavesurfer.drawer.container,n=!1!==e.scroll&&this.wavesurfer.params.scrollParent,i=e.scrollSpeed||1,o=e.scrollThreshold||10;let a,s,u,l,c,h,d,f=this.wavesurfer.getDuration(),p=0;const v=e=>{if(!l||!h)return;let t=this.wrapper.scrollLeft+i*h;this.wrapper.scrollLeft=t=Math.min(s,Math.max(0,t));const r=this.wavesurfer.drawer.handleEvent(e);l.update({start:Math.min(r*f,u*f),end:Math.max(r*f,u*f)}),t<s&&t>0&&window.requestAnimationFrame(()=>{v(e)})},m=e=>{e.touches&&e.touches.length>1||(f=this.wavesurfer.getDuration(),c=e.targetTouches?e.targetTouches[0].identifier:null,s=this.wrapper.scrollWidth-this.wrapper.clientWidth,d=this.wrapper.getBoundingClientRect(),a=!0,u=this.wavesurfer.drawer.handleEvent(e,!0),l=null,h=null)};this.wrapper.addEventListener("mousedown",m),this.wrapper.addEventListener("touchstart",m),this.on("disable-drag-selection",()=>{this.wrapper.removeEventListener("touchstart",m),this.wrapper.removeEventListener("mousedown",m)});const g=e=>{e.touches&&e.touches.length>1||(a=!1,p=0,h=null,l&&(this.util.preventClick(),l.fireEvent("update-end",e),this.wavesurfer.fireEvent("region-update-end",l,e)),l=null)};this.wrapper.addEventListener("mouseup",g),this.wrapper.addEventListener("touchend",g),document.body.addEventListener("mouseup",g),document.body.addEventListener("touchend",g),this.on("disable-drag-selection",()=>{document.body.removeEventListener("mouseup",g),document.body.removeEventListener("touchend",g),this.wrapper.removeEventListener("touchend",g),this.wrapper.removeEventListener("mouseup",g)});const y=i=>{if(!a)return;if(++p<=t)return;if(i.touches&&i.touches.length>1)return;if(i.targetTouches&&i.targetTouches[0].identifier!=c)return;if(!l&&(l=this.add(e||{}),!l))return;const s=this.wavesurfer.drawer.handleEvent(i),m=this.wavesurfer.regions.util.getRegionSnapToGridValue(u*f),g=this.wavesurfer.regions.util.getRegionSnapToGridValue(s*f);if(l.update({start:Math.min(g,m),end:Math.max(g,m)}),n&&r.clientWidth<this.wrapper.scrollWidth){const e=i.clientX-d.left;h=e<=o?-1:e>=d.right-o?1:null,h&&v(i)}};this.wrapper.addEventListener("mousemove",y),this.wrapper.addEventListener("touchmove",y),this.on("disable-drag-selection",()=>{this.wrapper.removeEventListener("touchmove",y),this.wrapper.removeEventListener("mousemove",y)}),this.wavesurfer.on("region-created",e=>{this.regionsMinLength&&(e.minLength=this.regionsMinLength)})}disableDragSelection(){this.fireEvent("disable-drag-selection")}getCurrentRegion(){const e=this.wavesurfer.getCurrentTime();let t=null;return Object.keys(this.list).forEach(r=>{const n=this.list[r];n.start<=e&&n.end>=e&&(!t||n.end-n.start<t.end-t.start)&&(t=n)}),t}getRegionSnapToGridValue(e,t){if(t.snapToGridInterval){const r=t.snapToGridOffset||0;return Math.round((e-r)/t.snapToGridInterval)*t.snapToGridInterval+r}return e}}function Mo(e,t,r,n){switch(this.bufferSize=e,this.sampleRate=t,this.bandwidth=2/e*(t/2),this.sinTable=new Float32Array(e),this.cosTable=new Float32Array(e),this.windowValues=new Float32Array(e),this.reverseTable=new Uint32Array(e),this.peakBand=0,this.peak=0,r){case"bartlett":for(i=0;i<e;i++)this.windowValues[i]=2/(e-1)*((e-1)/2-Math.abs(i-(e-1)/2));break;case"bartlettHann":for(i=0;i<e;i++)this.windowValues[i]=.62-.48*Math.abs(i/(e-1)-.5)-.38*Math.cos(2*Math.PI*i/(e-1));break;case"blackman":for(n=n||.16,i=0;i<e;i++)this.windowValues[i]=(1-n)/2-.5*Math.cos(2*Math.PI*i/(e-1))+n/2*Math.cos(4*Math.PI*i/(e-1));break;case"cosine":for(i=0;i<e;i++)this.windowValues[i]=Math.cos(Math.PI*i/(e-1)-Math.PI/2);break;case"gauss":for(n=n||.25,i=0;i<e;i++)this.windowValues[i]=Math.pow(Math.E,-.5*Math.pow((i-(e-1)/2)/(n*(e-1)/2),2));break;case"hamming":for(i=0;i<e;i++)this.windowValues[i]=.54-.46*Math.cos(2*Math.PI*i/(e-1));break;case"hann":case void 0:for(i=0;i<e;i++)this.windowValues[i]=.5*(1-Math.cos(2*Math.PI*i/(e-1)));break;case"lanczoz":for(i=0;i<e;i++)this.windowValues[i]=Math.sin(Math.PI*(2*i/(e-1)-1))/(Math.PI*(2*i/(e-1)-1));break;case"rectangular":for(i=0;i<e;i++)this.windowValues[i]=1;break;case"triangular":for(i=0;i<e;i++)this.windowValues[i]=2/e*(e/2-Math.abs(i-(e-1)/2));break;default:throw Error("No such window function '"+r+"'")}for(var i,o=1,a=e>>1;o<e;){for(i=0;i<o;i++)this.reverseTable[i+o]=this.reverseTable[i]+a;o<<=1,a>>=1}for(i=0;i<e;i++)this.sinTable[i]=Math.sin(-Math.PI/i),this.cosTable[i]=Math.cos(-Math.PI/i);this.calculateSpectrum=function(e){var t,r,n,i=this.bufferSize,o=this.cosTable,a=this.sinTable,s=this.reverseTable,u=new Float32Array(i),l=new Float32Array(i),c=2/this.bufferSize,h=Math.sqrt,d=new Float32Array(i/2),f=Math.floor(Math.log(i)/Math.LN2);if(Math.pow(2,f)!==i)throw"Invalid buffer size, must be a power of 2.";if(i!==e.length)throw"Supplied buffer is not the same size as defined FFT. FFT Size: "+i+" Buffer Size: "+e.length;for(var p,v,m,g,y,b,w,k,x=1,E=0;E<i;E++)u[E]=e[s[E]]*this.windowValues[s[E]],l[E]=0;for(;x<i;){p=o[x],v=a[x],m=1,g=0;for(var C=0;C<x;C++){for(E=C;E<i;)b=m*u[y=E+x]-g*l[y],w=m*l[y]+g*u[y],u[y]=u[E]-b,l[y]=l[E]-w,u[E]+=b,l[E]+=w,E+=x<<1;m=(k=m)*p-g*v,g=k*v+g*p}x<<=1}E=0;for(var _=i/2;E<_;E++)(n=c*h((t=u[E])*t+(r=l[E])*r))>this.peak&&(this.peakBand=E,this.peak=n),d[E]=n;return d}}class So{static create(e){return{name:"spectrogram",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,staticProps:{FFT:Mo},instance:So}}constructor(e,t){this.params=e,this.wavesurfer=t,this.util=t.util,this.frequenciesDataUrl=e.frequenciesDataUrl,this._onScroll=e=>{this.updateScroll(e)},this._onRender=()=>{this.render()},this._onWrapperClick=e=>{this._wrapperClickHandler(e)},this._onReady=()=>{const r=this.drawer=t.drawer;if(this.container="string"==typeof e.container?document.querySelector(e.container):e.container,!this.container)throw Error("No container for WaveSurfer spectrogram");if(e.colorMap){if(e.colorMap.length<256)throw new Error("Colormap must contain 256 elements");for(let t=0;t<e.colorMap.length;t++){if(4!==e.colorMap[t].length)throw new Error("ColorMap entries must contain 4 values")}this.colorMap=e.colorMap}else{this.colorMap=[];for(let e=0;e<256;e++){const t=(255-e)/256;this.colorMap.push([t,t,t,1])}}this.width=r.width,this.pixelRatio=this.params.pixelRatio||t.params.pixelRatio,this.fftSamples=this.params.fftSamples||t.params.fftSamples||512,this.height=this.fftSamples/2,this.noverlap=e.noverlap,this.windowFunc=e.windowFunc,this.alpha=e.alpha,this.createWrapper(),this.createCanvas(),this.render(),r.wrapper.addEventListener("scroll",this._onScroll),t.on("redraw",this._onRender)}}init(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}destroy(){this.unAll(),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("redraw",this._onRender),this.drawer&&this.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wavesurfer=null,this.util=null,this.params=null,this.wrapper&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}createWrapper(){const e=this.container.querySelector("spectrogram");e&&this.container.removeChild(e);const t=this.wavesurfer.params;if(this.wrapper=document.createElement("spectrogram"),this.params.labels){const e=this.labelsEl=document.createElement("canvas");e.classList.add("spec-labels"),this.drawer.style(e,{left:0,position:"absolute",zIndex:9,height:this.height/this.pixelRatio+"px",width:55/this.pixelRatio+"px"}),this.wrapper.appendChild(e),this.loadLabels("rgba(68,68,68,0.5)","12px","10px","","#fff","#f7f7f7","center","#specLabels")}this.drawer.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.height/this.pixelRatio+"px"}),(t.fillParent||t.scrollParent)&&this.drawer.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.container.appendChild(this.wrapper),this.wrapper.addEventListener("click",this._onWrapperClick)}_wrapperClickHandler(e){e.preventDefault();const t="offsetX"in e?e.offsetX:e.layerX;this.fireEvent("click",t/this.width||0)}createCanvas(){const e=this.canvas=this.wrapper.appendChild(document.createElement("canvas"));this.spectrCc=e.getContext("2d"),this.util.style(e,{position:"absolute",zIndex:4})}render(){this.updateCanvasStyle(),this.frequenciesDataUrl?this.loadFrequenciesData(this.frequenciesDataUrl):this.getFrequencies(this.drawSpectrogram)}updateCanvasStyle(){const e=Math.round(this.width/this.pixelRatio)+"px";this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=e}drawSpectrogram(e,t){t.spectrCc,t.wavesurfer.backend.getDuration();const r=t.height,n=t.resample(e),i=t.buffer?2/t.buffer.numberOfChannels:1;let o,a;for(o=0;o<n.length;o++)for(a=0;a<n[o].length;a++){const e=t.colorMap[n[o][a]];t.spectrCc.fillStyle="rgba("+256*e[0]+", "+256*e[1]+", "+256*e[2]+","+e[3]+")",t.spectrCc.fillRect(o,r-a*i,1,i)}}getFrequencies(e){const t=this.fftSamples,r=this.buffer=this.wavesurfer.backend.buffer,n=r.getChannelData(0),i=(r.length,r.sampleRate),o=[];if(!r)return void this.fireEvent("error","Web Audio buffer is not available");let a=this.noverlap;if(!a){const e=r.length/this.canvas.width;a=Math.max(0,Math.round(t-e))}const s=new Mo(t,i,this.windowFunc,this.alpha);let u=0;for(;u+t<n.length;){const e=n.slice(u,u+t),r=s.calculateSpectrum(e),i=new Uint8Array(t/2);let l;for(l=0;l<t/2;l++)i[l]=Math.max(-255,45*Math.log10(r[l]));o.push(i),u+=t-a}e(o,this)}loadFrequenciesData(e){const t=this.util.fetchFile({url:e});return t.on("success",e=>this.drawSpectrogram(JSON.parse(e),this)),t.on("error",e=>this.fireEvent("error",e)),t}freqType(e){return e>=1e3?(e/1e3).toFixed(1):Math.round(e)}unitType(e){return e>=1e3?"KHz":"Hz"}loadLabels(e,t,r,n,i,o,a,s){e=e||"rgba(68,68,68,0)",t=t||"12px",r=r||"10px",n=n||"Helvetica",i=i||"#fff",o=o||"#fff",a=a||"center";const u=this.height||512,l=u/256*5,c=(this.wavesurfer.backend.ac.sampleRate/2-0)/l,h=this.labelsEl.getContext("2d");let d;for(this.labelsEl.height=this.height,this.labelsEl.width=55,h.fillStyle=e,h.fillRect(0,0,55,u),h.fill(),d=0;d<=l;d++){h.textAlign=a,h.textBaseline="middle";const e=0+c*d,s=(Math.round(e/(this.sampleRate/2)*this.fftSamples),this.freqType(e)),l=this.unitType(e),f=2,p=16;let v;0==d?(v=u+d-10,h.fillStyle=o,h.font=r+" "+n,h.fillText(l,p+24,v),h.fillStyle=i,h.font=t+" "+n,h.fillText(s,p,v)):(v=u-50*d+f,h.fillStyle=o,h.font=r+" "+n,h.fillText(l,p+24,v),h.fillStyle=i,h.font=t+" "+n,h.fillText(s,p,v))}}updateScroll(e){this.wrapper&&(this.wrapper.scrollLeft=e.target.scrollLeft)}resample(e){const t=this.width,r=[],n=1/e.length,i=1/t;let o;for(o=0;o<t;o++){const t=new Array(e[0].length);let a;for(a=0;a<e.length;a++){const r=a*n,s=r+n,u=o*i,l=u+i,c=s<=u||l<=r?0:Math.min(Math.max(s,u),Math.max(l,r))-Math.max(Math.min(s,u),Math.min(l,r));let h;if(c>0)for(h=0;h<e[0].length;h++)null==t[h]&&(t[h]=0),t[h]+=c/i*e[a][h]}const s=new Uint8Array(e[0].length);let u;for(u=0;u<e[0].length;u++)s[u]=t[u];r.push(s)}return r}}var Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},To=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Do=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Io=function(){function e(t,r){var n=this;if(Ao(this,e),No.call(this),this.container="string"==typeof t.container?document.querySelector(t.container):t.container,!this.container)throw new Error("No container for wavesurfer timeline");this.wavesurfer=r,this.util=r.util,this.params=Object.assign({},{height:20,notchPercentHeight:90,labelPadding:5,unlabeledNotchColor:"#c0c0c0",primaryColor:"#000",secondaryColor:"#c0c0c0",primaryFontColor:"#000",secondaryFontColor:"#000",fontFamily:"Arial",fontSize:10,duration:null,zoomDebounce:!1,formatTimeCallback:this.defaultFormatTimeCallback,timeInterval:this.defaultTimeInterval,primaryLabelInterval:this.defaultPrimaryLabelInterval,secondaryLabelInterval:this.defaultSecondaryLabelInterval,offset:0},t),this.canvases=[],this.wrapper=null,this.drawer=null,this.pixelRatio=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce((function(){return n.render()}),this.params.zoomDebounce):function(){return n.render()}}return To(e,null,[{key:"create",value:function(t){return{name:"timeline",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),To(e,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var e=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("timeline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(e.fillParent||e.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"addCanvas",value:function(){var e=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(e),this.util.style(e,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var e=this.canvases.pop();e.parentElement.removeChild(e)}},{key:"updateCanvases",value:function(){for(var e=Math.round(this.drawer.wrapper.scrollWidth),t=Math.ceil(e/this.maxCanvasElementWidth);this.canvases.length<t;)this.addCanvas();for(;this.canvases.length>t;)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var e=this,t=this.canvases.length;this.canvases.forEach((function(r,n){var i=n===t-1?e.drawer.wrapper.scrollWidth-e.maxCanvasElementWidth*(t-1):e.maxCanvasElementWidth;r.width=i*e.pixelRatio,r.height=(e.params.height+1)*e.pixelRatio,e.util.style(r,{width:i+"px",height:e.params.height+"px",left:n*e.maxCanvasElementWidth+"px"})}))}},{key:"renderCanvases",value:function(){var e=this,t=this.wavesurfer.timeline.params.duration||this.wavesurfer.backend.getDuration();if(!(t<=0)){var r=this.wavesurfer.params,n=this.params.fontSize*r.pixelRatio,i=parseInt(t,10)+1,o=r.fillParent&&!r.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*r.pixelRatio,a=this.params.height*this.pixelRatio,s=this.params.height*(this.params.notchPercentHeight/100)*this.pixelRatio,u=o/t,l=this.params.formatTimeCallback,c=function(e){return"function"==typeof e?e(u):e},h=c(this.params.timeInterval),d=c(this.params.primaryLabelInterval),f=c(this.params.secondaryLabelInterval),p=u*this.params.offset,v=0,m=void 0,g=[];for(m=0;m<i/h;m++)g.push([m,v,p]),v+=h,p+=u*h;var y=function(e){g.forEach((function(t){e(t[0],t[1],t[2])}))};this.setFillStyles(this.params.primaryColor),this.setFonts(n+"px "+this.params.fontFamily),this.setFillStyles(this.params.primaryFontColor),y((function(t,r,n){t%d==0&&(e.fillRect(n,0,1,a),e.fillText(l(r,u),n+e.params.labelPadding*e.pixelRatio,a))})),this.setFillStyles(this.params.secondaryColor),this.setFonts(n+"px "+this.params.fontFamily),this.setFillStyles(this.params.secondaryFontColor),y((function(t,r,n){t%f==0&&(console.log(),e.fillRect(n,0,1,a),e.fillText(l(r,u),n+e.params.labelPadding*e.pixelRatio,a))})),this.setFillStyles(this.params.unlabeledNotchColor),y((function(t,r,n){t%f!=0&&t%d!=0&&e.fillRect(n,0,1,s)}))}}},{key:"setFillStyles",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").fillStyle=e}))}},{key:"setFonts",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").font=e}))}},{key:"fillRect",value:function(e,t,r,n){var i=this;this.canvases.forEach((function(o,a){var s=a*i.maxCanvasWidth,u={x1:Math.max(e,a*i.maxCanvasWidth),y1:t,x2:Math.min(e+r,a*i.maxCanvasWidth+o.width),y2:t+n};u.x1<u.x2&&o.getContext("2d").fillRect(u.x1-s,u.y1,u.x2-u.x1,u.y2-u.y1)}))}},{key:"fillText",value:function(e,t,r){var n=void 0,i=0;this.canvases.forEach((function(o){var a=o.getContext("2d"),s=a.canvas.width;i>t+n||(i+s>t&&(n=a.measureText(e).width,a.fillText(e,t-i,r)),i+=s)}))}},{key:"defaultFormatTimeCallback",value:function(e,t){return e/60>1?parseInt(e/60,10)+":"+(e=(e=parseInt(e%60,10))<10?"0"+e:e):Math.round(1e3*e)/1e3}},{key:"defaultTimeInterval",value:function(e){return e>=25?1:5*e>=25?5:15*e>=25?15:60*Math.ceil(.5/e)}},{key:"defaultPrimaryLabelInterval",value:function(e){return e>=25?10:5*e>=25?6:4}},{key:"defaultSecondaryLabelInterval",value:function(e){return e>=25?5:2}}]),e}(),No=function(){var e=this;this._onScroll=function(){e.wrapper&&e.drawer.wrapper&&(e.wrapper.scrollLeft=e.drawer.wrapper.scrollLeft)},this._onRedraw=function(){return e.render()},this._onReady=function(){var t=e.wavesurfer;e.drawer=t.drawer,e.pixelRatio=t.drawer.params.pixelRatio,e.maxCanvasWidth=t.drawer.maxCanvasWidth||t.drawer.width,e.maxCanvasElementWidth=t.drawer.maxCanvasElementWidth||Math.round(e.maxCanvasWidth/e.pixelRatio),t.drawer.wrapper.addEventListener("scroll",e._onScroll),t.on("redraw",e._onRedraw),t.on("zoom",e._onZoom),e.render()},this._onWrapperClick=function(t){t.preventDefault();var r="offsetX"in t?t.offsetX:t.layerX;e.fireEvent("click",r/e.wrapper.scrollWidth||0)}};function Wo(e,t,r){e.on(t,r)}function Bo(e,t,r){if(t instanceof window.HTMLElement)e.loadMediaElement(t,r);else if("string"==typeof t)e.load(t,r);else{if(!(t instanceof window.Blob||t instanceof window.File))throw new Error("Wavesurfer._loadAudio expects prop audioFile\n        to be either HTMLElement, string or file/blob");e.loadBlob(t,r)}}function Fo(e){return e.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")}function Uo(e,t,r){var n=e[t];return void 0!==n&&("number"!=typeof n||n!==parseInt(n,10)||n<0)?new Error("Invalid "+t+" supplied to "+r+",\n      expected a positive integer"):null}function Vo(e,t,r){if(t instanceof window.HTMLElement)Bo(e,t,r);else{if(!window.document.querySelector(t))throw new Error("Media Element not found!");Bo(e,window.document.querySelector(t),r)}}var Ho=["audioprocess","destroy","error","finish","interaction","loading","mute","pause","play","ready","scroll","seek","volume","waveform-ready","zoom"],qo={AUDIO_PROCESS:Ho[0],DESTROY:Ho[1],ERROR:Ho[2],FINISH:Ho[3],INTERACTION:Ho[4],LOADING:Ho[5],MUTE:Ho[6],PAUSE:Ho[7],PLAY:Ho[8],READY:Ho[9],SCROLL:Ho[10],SEEK:Ho[11],VOLUME:Ho[12],WAVEFORM_READY:Ho[13],ZOOM:Ho[14]},Go=["region-in","region-out","region-removed","region-updated","region-mouseenter","region-mouseleave","region-click","region-dblclick","region-update-end","region-play"],$o=["in","out","remove","update","update-end","click","dbclick","over","leave"],Yo=function(e){function t(e){Ao(this,t);var r=Do(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(r.state={isReady:!1},void 0===(void 0===_o?"undefined":Ro(_o)))throw new Error("WaveSurfer is undefined!");return r}return zo(t,e),To(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.options,n=t.spectrogramOptions,i=t.timelineOptions;r.plugins=[jo.create()],this.props.micCallback&&r.plugins.push(Po.create()),n&&r.plugins.push(So.create({container:n.container,colorMap:n.colorMap,pixelRatio:n.pixelRatio,fftSamples:n.fftSamples,noverlap:n.noverlap,windowFunc:n.windowFunc,alpha:n.alpha,deferInit:n.deferInit,labels:n.labels})),i&&r.plugins.push(Io.create({container:i.container,pixelRatio:i.pixelRatio,zoomDebounce:i.zoomDebounce,height:i.height||50,duration:i.duration,notchPercentHeight:i.notchPercentHeight,timeInterval:i.timeInterval,primaryLabelInterval:i.primaryLabelInterval,secondaryLabelInterval:i.secondaryLabelInterval,offset:i.offset,primaryColor:i.primaryColor,fontSize:i.fontSize,fontFamily:i.fontFamily,primaryFontColor:i.primaryFontColor,labelPadding:i.labelPadding,unlabeledNotchColor:i.unlabeledNotchColor})),this._wavesurfer=_o.create(Lo({},r,{container:this.wavesurferEl})),this.props.micCallback&&(this._wavesurfer.microphone.on("deviceReady",(function(t){e.props.micCallback({stream:t})})),this._wavesurfer.microphone.on("deviceError",(function(t){e.props.micCallback({error:t})})),this.props.micCallback({micInstance:this._wavesurfer.microphone})),Wo(this._wavesurfer,qo.AUDIO_PROCESS,(function(t){Math.ceil(t)!==Math.ceil(e.props.pos)&&e.props.onPosChange({wavesurfer:e._wavesurfer,originalArgs:[Math.ceil(t)]})})),Wo(this._wavesurfer,qo.SEEK,(function(t){var r=e._wavesurfer.getDuration();Math.ceil(r*t)!==Math.ceil(e.props.pos)&&e.props.onPosChange({wavesurfer:e._wavesurfer,originalArgs:[Math.ceil(r*t)]})})),Wo(this._wavesurfer,qo.READY,(function(){e.setState({isReady:!0}),e.props.micCallback||function(e,t){var r=e.getDuration()||t.duration,n=function(e,t){return 1/e*t}(r,t.pos);n&&!isNaN(n)?t.autoCenter?e.seekAndCenter(n):e.seekTo(n):r&&t.pos&&e.seekTo(t.pos)}(e._wavesurfer,e.props),e._wavesurfer.setVolume(e.props.volume),e.props.playing&&e._wavesurfer.play(),e._wavesurfer.zoom(e.props.zoom)})),Ho.forEach((function(t){var r=Fo(t),n=e.props["on"+r];n&&Wo(e._wavesurfer,t,(function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(t===qo.SEEK){var a=e._wavesurfer.getDuration();n({wavesurfer:e._wavesurfer,pos:Math.ceil(a*i)})}else n(Lo({wavesurfer:e._wavesurfer},i))}))})),this.props.audioFile&&Bo(this._wavesurfer,this.props.audioFile,this.props.audioPeaks),this.props.mediaElt&&Vo(this._wavesurfer,this.props.mediaElt,this.props.audioPeaks)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.audioFile!==e.audioFile&&(this.setState({isReady:!1}),Bo(this._wavesurfer,e.audioFile,e.audioPeaks)),this.props.mediaElt!==e.mediaElt&&(this.setState({isReady:!1}),Vo(this._wavesurfer,e.mediaElt,e.audioPeaks)),this.props.audioPeaks!==e.audioPeaks&&(e.mediaElt?Vo(this._wavesurfer,e.mediaElt,e.audioPeaks):Bo(this._wavesurfer,e.audioFile,e.audioPeaks)),e.playing?this._wavesurfer.play():this._wavesurfer.pause(),this.props.volume!==e.volume&&this._wavesurfer.setVolume(e.volume),this.props.zoom!==e.zoom&&this._wavesurfer.zoom(e.zoom),this.props.options.audioRate!==e.options.audioRate&&this._wavesurfer.setPlaybackRate(e.options.audioRate)}},{key:"componentWillUnmount",value:function(){delete this._wavesurfer.backend.buffer,this._wavesurfer.unAll(),this._wavesurfer.destroy()}},{key:"render",value:function(){var e=this,t=!!this.props.children&&n.Children.map(this.props.children,(function(t){return n.cloneElement(t,{wavesurfer:e._wavesurfer,isReady:e.state.isReady})}));return n.createElement("div",{className:"waveform"},n.createElement("div",{className:"wave",ref:function(t){e.wavesurferEl=t}}),this._wavesurfer&&this.state.isReady&&t)}}]),t}(n.Component);var Zo="styles_reactWaves__1M36F";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".styles_reactWaves__1M36F {\n  width: 85%;\n  display: inline-block;\n  text-align: center;\n  margin: 2em auto;\n  padding: 4px 15px 0 40px;\n  /* width */\n  /* Track */\n  /* Handle */\n  /* Handle on hover */ }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar {\n    margin-top: 20px;\n    width: 8px;\n    height: 8px; }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 1px grey;\n    border-radius: 10px; }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar-thumb {\n    background: #4F49E2;\n    border-radius: 10px; }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar-thumb:hover {\n    background: rgba(79, 73, 226, 0.85); }\n");var Xo=function(e){function t(){return Ao(this,t),Do(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return zo(t,e),To(t,[{key:"componentDidMount",value:function(){this.props.isReady&&this._init.call(this),this.props.wavesurfer.on("ready",this._init.bind(this))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.isReady){var t=Object.create(this.props.wavesurfer.regions.list),r=void 0,n=void 0;for(r in e.regions)if({}.hasOwnProperty.call(e.regions,r)){var i=e.regions[r];delete t[r],!this.props.wavesurfer.regions.list[r]&&e.wavesurfer&&e.wavesurfer.addRegion?this._hookUpRegionEvents(e.wavesurfer.addRegion(i)):!t[r]||t[r].start===i.start&&t[r].end===i.end||e.wavesurfer.regions.list[r].update({start:i.start,end:i.end})}for(n in t)({}).hasOwnProperty.call(t,n)&&e.wavesurfer.regions.list[n].remove()}}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){var e=this;$o.forEach((function(t){e.props.wavesurfer.un(t)}))}},{key:"_init",value:function(){var e=this,t=this.props,r=t.wavesurfer,n=t.regions,i=void 0;for(i in Go.forEach((function(t){var n=e.props["on"+Fo(t)];n&&r.on(t,(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n({wavesurfer:r,originalArgs:t})}))})),n)({}).hasOwnProperty.call(n,i)&&r&&r.addRegion&&this._hookUpRegionEvents(r.addRegion(n[i]))}},{key:"_hookUpRegionEvents",value:function(e){var t=this;$o.forEach((function(r){var n=t.props["onSingleRegion"+Fo(r)],i=t.props.wavesurfer;n&&e.on(r,(function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];n({wavesurfer:i,originalArgs:r,region:e})}))})),e.on("remove",(function(){$o.forEach((function(t){e.un(t)}))}))}},{key:"render",value:function(){return!1}}]),t}(n.Component);Xo.propTypes={isReady:t.bool,regions:t.object,wavesurfer:t.object},Xo.defaultProps={regions:[]};var Ko=function(e){function t(e){Ao(this,t);var r=Do(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onPosChange=function(e){var t=e.originalArgs&&e.originalArgs[0],n=e.wavesurfer&&e.wavesurfer.getDuration();r.props.onPosChange&&r.props.onPosChange(t,e.wavesurfer),t&&t!==r.state.pos&&r.setState({pos:t,duration:n})},r.state={pos:r.props.pos,duration:r.props.duration},r}return zo(t,e),To(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.audioFile&&e.audioFile&&this.setState({pos:e.pos,duration:e.duration})}},{key:"render",value:function(){return n.createElement("div",{className:Zo+(this.props.className?" "+this.props.className:"")},n.createElement(Yo,Lo({},this.props,{pos:this.state.pos,duration:this.state.duration,onPosChange:this.onPosChange,playing:this.props.playing})))}}]),t}(n.Component);function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return E(this,r)}}Ko.propTypes={playing:t.bool,pos:t.number,audioFile:function(e,t,r){var n=e[t];return!n||"string"==typeof n||n instanceof window.Blob||n instanceof window.File?null:new Error("Invalid "+t+" supplied to "+r+"\n        expected either string or file/blob")},mediaElt:t.oneOfType([t.string,t.instanceOf(window.HTMLElement)]),audioPeaks:t.array,volume:t.number,zoom:t.number,onPosChange:t.func,children:t.oneOfType([t.element,t.array]),options:t.shape({audioRate:t.number,audioContext:t.object,audioScriptProcessor:t.object,autoCenter:t.bool,backend:t.oneOf(["WebAudio","MediaElement","MediaElementWebAudio"]),barGap:Uo,barHeight:Uo,barRadius:Uo,barWidth:function(e,t,r){var n=e[t];return void 0!==n&&"number"!=typeof n?new Error("Invalid "+t+" supplied to "+r+"\n          expected either undefined or number"):null},closeAudioContext:t.bool,cursorColor:t.string,cursorWidth:Uo,fillParent:t.bool,forceDecode:t.bool,height:Uo,hideScrollbar:t.bool,interact:t.bool,loopSelection:t.bool,maxCanvasWidth:Uo,mediaControls:t.bool,mediaType:t.oneOf(["audio","video"]),minPxPerSec:Uo,normalize:t.bool,partialRender:t.bool,pixelRatio:t.number,progressColor:t.string,removeMediaElementOnDestroy:t.bool,renderer:t.object,responsive:t.bool,scrollParent:t.bool,skipLength:t.number,splitChannels:t.bool,waveColor:t.oneOfType([t.string,t.instanceOf(window.CanvasGradient)]),xhr:t.object}),spectrogramOptions:t.object,timelineOptions:t.object},Ko.defaultProps={audioFile:"",volume:1,zoom:1,options:{barGap:0,barHeight:2,cursorWidth:0,height:200,hideScrollbar:!0,progressColor:"#EC407A",responsive:!0,waveColor:"#D1D6DA"},pos:0,playing:!1};var Qo,ea,ta=function(e){k(r,e);var t=Jo(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).wavesurfer=null,n.onReady=n.onReady.bind(b(n)),n.getRegions=n.getRegions.bind(b(n)),n._redraw=n._redraw.bind(b(n)),n.redraw=Cr(n._redraw,250),n}return g(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redraw)}},{key:"componentDidUpdate",value:function(e){var t=this.props.height;e.height!==t&&this.redraw()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.redraw)}},{key:"_redraw",value:function(){var e=this.props.height;this.wavesurfer&&(this.wavesurfer.setHeight(e),this.wavesurfer.drawBuffer())}},{key:"onReady",value:function(e){var t=e.wavesurfer,r=this.props.onReady;this.wavesurfer=t,this.wavesurfer.toggleInteraction(),this.redraw(),r&&r(this.wavesurfer)}},{key:"getRegions",value:function(){var e=this.props.range;return e?{cut:{id:"cut",start:e[0],end:e[1],color:"rgba(146, 210, 117, 0.3)",drag:!1,resize:!1}}:null}},{key:"render",value:function(){var e=this.props,t=e.src,r=(e.range,e.className),i=e.height,o=this.getRegions();return n.createElement(Ko,{audioFile:t,className:r,options:{barGap:3,barWidth:4,barHeight:2,barRadius:3,cursorWidth:0,hideScrollbar:!0,height:i,interact:!1,progressColor:"#46be8ae6",waveColor:"#D1D6DA"},zoom:0,pos:0,playing:!1,onReady:this.onReady},n.createElement(Xo,{regions:o}))}}]),r}(n.Component);function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return E(this,r)}}ta.propTypes={className:t.string,height:t.number,onReady:t.func,range:t.array,src:t.string},ta.defaultProps={className:"",height:100,onReady:function(){return null},range:null,src:null};var oa={isURL:Ne},aa={camelCase:tr,concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return rr(tt(r)?hr(r):[r],cr(t,1))},debounce:Cr,difference:mn,get:On,isString:function(e){return"string"==typeof e||!tt(e)&&lt(e)&&"[object String]"==ut(e)},last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:function(e,t){return(tt(e)?et:Ri)(e,Oi(t))},round:zi,split:function(e,t,r){return r&&"number"!=typeof r&&function(e,t,r){if(!dr(r))return!1;var n=typeof t;return!!("number"==n?pn(r)&&Hn(t,r.length):"string"==n&&t in r)&&Vr(r[t],e)}(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=pt(e))&&("string"==typeof t||null!=t&&!Ii(t))&&!(t=ft(t))&&gt(e)?vt(jt(e),0,r):e.split(t,r):[]},uniq:function(e){return e&&e.length?function(e,t,r){var n=-1,i=Jr,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=Qr;else if(o>=200){var l=t?null:Ni(e);if(l)return Tn(l);a=!1,i=tn,u=new Xr}else u=t?[]:s;e:for(;++n<o;){var c=e[n],h=t?t(c):c;if(c=r||0!==c?c:0,a&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),s.push(c)}else i(u,h,r)||(u!==s&&u.push(h),s.push(c))}return s}(e):[]},upperFirst:St},sa=function(e){k(o,e);var t,i=ia(o);function o(e){var t;return m(this,o),(t=i.call(this,e)).state={beingDropTarget:!1,height:null,file:null,loaded:!1,mounted:!1,url:"",width:null,imageBackgroundColor:"rgba(0, 0, 0, 0)",imageIsDark:!1,_forceUpdateCounter:0},t.change=t.change.bind(b(t)),t.getFileTypes=t.getFileTypes.bind(b(t)),t.getSrcType=t.getSrcType.bind(b(t)),t.getAcceptedExtensions=t.getAcceptedExtensions.bind(b(t)),t.updateMediaLoop=t.updateMediaLoop.bind(b(t)),t.handleChange=t.handleChange.bind(b(t)),t.handleClick=t.handleClick.bind(b(t)),t.handleCropClick=t.handleCropClick.bind(b(t)),t.handleCutClick=t.handleCutClick.bind(b(t)),t.handleEditClick=t.handleEditClick.bind(b(t)),t.handleDragLeave=t.handleDragLeave.bind(b(t)),t.handleDragEnter=t.handleDragEnter.bind(b(t)),t.handleMouseOver=t.handleMouseOver.bind(b(t)),t.handleMouseEnter=t.handleMouseEnter.bind(b(t)),t.handleMouseLeave=t.handleMouseLeave.bind(b(t)),t.handleDrop=t.handleDrop.bind(b(t)),t.handleInjectUrlClick=t.handleInjectUrlClick.bind(b(t)),t.handleLoad=t.handleLoad.bind(b(t)),t.handleImageLoad=t.handleImageLoad.bind(b(t)),t.handleAudioLoad=t.handleAudioLoad.bind(b(t)),t.handleVideoLoad=t.handleVideoLoad.bind(b(t)),t.handleVideoLoadMetadata=t.handleVideoLoadMetadata.bind(b(t)),t.handleVideoPlayerError=t.handleVideoPlayerError.bind(b(t)),t.handleRemoveClick=t.handleRemoveClick.bind(b(t)),t.handleUrlChange=t.handleUrlChange.bind(b(t)),t.get=t.get.bind(b(t)),t.injectUrl=t.injectUrl.bind(b(t)),t.change=t.change.bind(b(t)),t.updateImageBackground=t.updateImageBackground.bind(b(t)),t.updateImageBackgroundInState=t.updateImageBackgroundInState.bind(b(t)),t._forceUpdate=t._forceUpdate.bind(b(t)),t._handleWindowScroll=t._handleWindowScroll.bind(b(t)),t.forceUpdateOnResize=aa.debounce(t._forceUpdate,250),t.handleWindowScroll=aa.debounce(t._handleWindowScroll,250),t}return g(o,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.initializeDrag(),this.updateImageBackground(),window.addEventListener("resize",this.forceUpdateOnResize),window.addEventListener("scroll",this.handleWindowScroll)}},{key:"componentDidUpdate",value:function(e){this.props.src!==e.src&&(this.props.src&&(this.lastChangeStart=(new Date).getTime()),this.updateImageBackground()),this.props.fetching&&!e.fetching&&this.props.src&&e.src===this.props.src&&this.state.loaded&&this.props.onLoad()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.forceUpdateOnResize),window.removeEventListener("scroll",this.handleWindowScroll)}},{key:"_forceUpdate",value:function(){"video"!==this.getSrcType()&&this.setState({_forceUpdateCounter:this.state._forceUpdateCounter++})}},{key:"getFileTypes",value:function(){var e=this.props.fileType;return"string"==typeof e?[e]:e}},{key:"getSrcType",value:function(){var e=this.getFileTypes();return this.guessType(this.props.srcType)||this.guessType(this.props.src)||(-1!==e.indexOf("video")?-1!==e.indexOf("image")?"iv":"video":e[0])}},{key:"getAcceptedExtensions",value:function(){var e=this,t=this.getFileTypes(),r=[];return t.forEach((function(t){e.extensions()[t].forEach((function(e){return r.push(e)}))})),r}},{key:"change",value:(t=v(_.mark((function e(t){var n,i,o,a,s,u,l,c,h=arguments;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(h.length>1&&void 0!==h[1])||h[1],i=h.length>2&&void 0!==h[2]?h[2]:function(e){return null},o=(new Date).getTime(),this.lastChangeStart=o,a=this.getFileTypes(),s=this.guessType(t),u=this.props.maxSizes[s]||this.props.maxSize,-1!==a.indexOf(s)){e.next=10;break}this.props.onInvalidFileExtensionError(this.extension(t),this.getAcceptedExtensions()),e.next=29;break;case 10:if(l=null,!(u&&t.size>=u)){e.next=28;break}if("image"!==s){e.next=28;break}return c=null,this.props.onCompressStart(t),e.prev=15,e.next=18,r(t,{maxSizeMB:u/1024/1024,useWebWorker:!0});case 18:(c=e.sent)&&(t=c),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(15),l=e.t0;case 25:if(!(this.lastChangeStart>o)){e.next=27;break}return e.abrupt("return");case 27:this.props.onCompressEnd(c);case 28:u&&t.size>=u?this.props.onFileTooLargeError(t.size,u,l):this.props.onChange(t,n,s);case 29:i(t),this.input.value=null,this.xhr&&this.xhr.abort(),this.xhr=null;case 33:case"end":return e.stop()}}),e,this,[[15,22]])}))),function(e){return t.apply(this,arguments)})},{key:"handleChange",value:function(e){var t=aa.get(e,"target.files.0");t&&this.change(t)}},{key:"handleClick",value:function(e){var t=this,r=this.props.onUploaderClick;r?r().then((function(e){e&&t.change(e)})).catch((function(e){})):this.input.click()}},{key:"handleCropClick",value:function(e){e.stopPropagation(),this.props.onCropClick()}},{key:"handleCutClick",value:function(e){e.stopPropagation(),this.props.onCutClick()}},{key:"handleEditClick",value:function(e){e.stopPropagation(),console.log("in"),this.props.onEditClick()}},{key:"handleDragLeave",value:function(){0==--this.dndCounter&&this.setState({beingDropTarget:!1})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),void 0===this.dndCounter&&(this.dndCounter=0),this.dndCounter++,this.setState({beingDropTarget:!0})}},{key:"handleMouseEnter",value:function(){var e=this.getSrcType();!this.playing&&this.props.hoverPlay&&"audio"===e&&(this.playing=!0,this.audio&&this.audio.play())}},{key:"handleMouseOver",value:function(){var e=this.getSrcType();!this.playing&&this.props.hoverPlay&&"audio"===e&&(this.playing=!0,this.audio&&this.audio.play())}},{key:"handleMouseLeave",value:function(){var e=this.getSrcType();this.playing&&this.props.hoverPlay&&"audio"===e&&(this.playing=!1,this.audio&&this.audio.pause())}},{key:"handleDrop",value:function(e){e.preventDefault(),this.dndCounter=0,this.setState({beingDropTarget:!1});var t=aa.get(e,"dataTransfer.files.0");t&&this.change(t)}},{key:"handleInjectUrlClick",value:function(){this.injectUrl(this.state.url,!0)}},{key:"_handleWindowScroll",value:function(){var e=this.getSrcType();if(this.video&&("video"===e||"iv"===e)){var t=this.video.getBoundingClientRect();t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)?this.video.play():this.video.pause()}}},{key:"handleLoad",value:function(){var e=this.props,t=e.onFirstLoad,r=e.onLoad;void 0===this.firstLoadDone&&(this.firstLoadDone=!0,t()),this.setState({loaded:!0},r)}},{key:"updateImageBackground",value:function(){if(this.props.src&&"image"===this.getSrcType()){var e=new Image,t=this.updateImageBackgroundInState;return e.crossOrigin="anonymous",e.onload=function(){var r=(new Ki).getColor(e);if(r){var n=r.isDark,i=r.value,o=n?[235,235,235,1]:[20,20,20,1];i[3]>=242.25&&(o=[i[0],i[1],i[2],.5]),t(o,n)}},e.src=this.props.src,!0}return!1}},{key:"updateImageBackgroundInState",value:function(e,t){this.setState({imageBackgroundColor:"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")"),imageIsDark:t})}},{key:"handleAudioLoad",value:function(){var e=this;if(this.audio){var t=this.props.onAudioLoad;this.audio.addEventListener("timeupdate",(function(){return e.updateMediaLoop(e.audio)}),!1),t(this.audio)}this.handleLoad()}},{key:"handleImageLoad",value:function(){this.handleLoad()}},{key:"handleVideoLoad",value:function(){var e=this;if(this.video){var t=this.props.onVideoLoad;this.video.addEventListener("timeupdate",(function(){return e.updateMediaLoop(e.video)}),!1),t(this.video)}this.handleLoad()}},{key:"handleVideoLoadMetadata",value:function(e){if(0===e.target.videoHeight){var t=this.props.onNotSupportedVideoLoad;t&&t("Video format is not supported")}}},{key:"handleVideoPlayerError",value:function(e){var t=e.target.error;t&&4===t.code&&(0,this.props.onNotSupportedVideoLoad)(t.message);this.handleLoad()}},{key:"handleRemoveClick",value:function(e){e.stopPropagation(),this.props.onRemoveClick()}},{key:"handleUrlChange",value:function(e){var t=e.target.value;this.setState({url:t})}},{key:"updateMediaLoop",value:function(e){var t=this.props.range;e&&t&&(e.currentTime<t[0]||e.currentTime>t[1])&&(e.currentTime=t[0])}},{key:"get",value:function(e){var t=this;return new Promise((function(r,n){t.xhr=new XMLHttpRequest,t.xhr.responseType="blob",t.xhr.open("GET",e,!0),t.xhr.onload=function(){200===t.xhr.status?r(t.xhr.response):n(Error(t.xhr.statusText))},t.xhr.onerror=function(){return n(Error("Network Error"))},t.xhr.send()}))}},{key:"injectUrl",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return null};!r||oa.isURL(e)?this.get(e).then((function(r){var i=aa.last(aa.split(e,"/")),o=new File([r],i,{type:r.type});t.change(o,!1,n)})).catch((function(r){t.props.onUrlInjectionError(r,e)})):this.props.onInvalidUrlError(e)}},{key:"render",value:function(){var e=this,t=this.getSrcType?this.getSrcType():null,r=null,i=null,o=this.props.src&&(this.props.removable||this.props.croppable||this.props.cuttable),a=null===this.props.autoPlay?"video"===t||"iv"===t:this.props.autoPlay;if(this.props.src){var s=null;if(this.props.mediaCrop&&this.cropMedia&&("image"===t&&"IMG"===this.cropMedia.nodeName||("video"===t||"iv"===t)&&"VIDEO"===this.cropMedia.nodeName)){var u=this.zone.offsetWidth,l=this.zone.offsetHeight,c="video"===t||"iv"===t?this.cropMedia.videoWidth:this.cropMedia.naturalWidth,h="video"===t||"iv"===t?this.cropMedia.videoHeight:this.cropMedia.naturalHeight,d="video"===t||"iv"===t?c:this.cropMedia.offsetWidth,v="video"===t||"iv"===t?h:this.cropMedia.offsetHeight,m={x:Math.min(this.props.mediaCrop.x,c),y:Math.min(this.props.mediaCrop.y,h),width:Math.min(this.props.mediaCrop.width,c-this.props.mediaCrop.x),height:Math.min(this.props.mediaCrop.height,h-this.props.mediaCrop.y)},g=d*m.x/c,y=v*m.y/h,b=d*m.width/c,w=v*m.height/h,k=b/w,x=y,E=g+b,C=y+w,_=g,P=null;m.width>0&&m.height>0&&(P="contain"===this.props.backgroundSize?l*k>u?u/b:l/w:l*k>u?l/w:u/b,s={position:"absolute",top:"50%",left:"50%",backgroundColor:this.state.imageIsDark?"white":"black",transformOrigin:"".concat((_+E)/2,"px ").concat((x+C)/2,"px"),transform:"\n                            translateX(-".concat((_+E)/2,"px)\n                            translateY(-").concat((x+C)/2,"px)\n                            scale(").concat(P,")\n                        "),clip:"rect(\n                            ".concat(x,"px\n                            ").concat(E,"px\n                            ").concat(C,"px\n                            ").concat(_,"px)\n                        ")})}switch(t){case"image":r=this.state.loaded&&this.state.mounted&&this.props.mediaCrop&&this.zone?xe("img",{alt:"",ref:function(t){return e.cropMedia=t},crossOrigin:"anonymous",src:this.props.src,onLoad:this._forceUpdate,style:s}):xe("div",{style:{backgroundColor:this.props.backgroundColor,backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:this.props.backgroundSize,backgroundImage:this.state.loaded?"url(".concat(this.props.src).concat(("boolean"==typeof this.props.corsProof?this.props.corsProof:this.props.corsProof(this.props.src))?"".concat(this.props.src.match(/^http/)?"".concat(this.props.src.includes("?")?"&":"?","xCssCors=1"):""):"",")"):null,position:"relative",width:"100%",height:"100%"}},xe("img",{alt:"",crossOrigin:"anonymous",src:this.props.src,onLoad:this.handleImageLoad,style:{position:"fixed",top:"-9999px",left:"-9999px"}}));break;case"video":case"iv":r=xe("video",{autoPlay:a,loop:!0,muted:!0,crossOrigin:"anonymous",src:this.props.src,onLoadedData:this.handleVideoLoad,onLoadedMetadata:this.handleVideoLoadMetadata,onError:this.handleVideoPlayerError,ref:function(t){e.video=t,e.cropMedia=t},style:s||("cover"===this.props.backgroundSize?{height:"100%"}:{maxHeight:"100%",maxWidth:"100%"})});break;case"audio":r=xe(n.Fragment,{key:this.props.src},xe(ta,{className:"uploader-waveform",height:this.zone?this.zone.clientHeight:100,range:this.props.range,src:this.props.src,onReady:this.handleAudioLoad}),xe("audio",{autoPlay:a,ref:function(t){return e.audio=t},src:this.props.src,loop:!0,controls:!0,style:{position:"fixed",top:"-9999px",left:"-9999px"}}))}}switch(t){case"image":i=xe(qe,{className:"uploader-zone-fog-img"});break;case"video":i=xe($e,{className:"uploader-zone-fog-img"});break;case"iv":i=xe(Ye,{className:"uploader-zone-fog-img"});break;case"audio":i=xe(Ge,{className:"uploader-zone-fog-img"})}return xe("div",f({"data-attr":"root"},aa.get(this.props.customAttributes,"root",{}),{className:"\n                    uploader\n                    ".concat(aa.get(this.props.customAttributes,"root.className",""),"\n                "),css:ke(Qo||(Qo=p(["\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                "])),Te.uploader,this.props.fetching?Te["uploader/fetching"]:null,this.props.compact?Te["uploader/compact"]:null,this.props.withUrlInput?Te["uploader/withUrl"]:null,o?Te["uploader/withControls"]:null,this.props.disabled?Te["uploader/disabled"]:null)}),xe("input",{"data-attr":"input",ref:function(t){return e.input=t},type:"file",disabled:this.props.disabled,className:"uploader-input",onChange:this.handleChange}),xe("div",{ref:function(t){return e.zone=t},className:"\n                        uploader-zone\n                        ".concat(this.props.withUrlInput?"uploader-zone/withUrl":"","\n                    "),onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onDrop:this.handleDrop,style:this.props.src&&"image"===t?{backgroundColor:this.state.imageBackgroundColor}:null},r,xe("div",{className:"uploader-zone-fog",onClick:this.props.disabled?null:this.handleClick},!0===this.props.fetching&&xe("div",{className:"uploader-zone-fog-loader"},this.props.catalogue.loading),xe("div",{className:"uploader-zone-fog-core"},o?null:xe(n.Fragment,null,this.state.beingDropTarget?xe(We,{className:"uploader-zone-fog-img"}):i),!0===o&&xe(n.Fragment,null,xe("div",{className:"uploader-zone-fog-controls"},"image"===t&&!0===this.props.croppable&&xe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleCropClick},this.props.cropIcon||xe(Ue,null)),"audio"===t&&!0===this.props.cuttable&&xe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleCutClick},this.props.cutIcon||xe(Be,null)),("video"===t||"iv"===t)&&!0===this.props.editable&&xe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleEditClick},this.props.editIcon||xe(Fe,null)),!0===this.props.removable&&xe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleRemoveClick},this.props.removeIcon||xe(Ve,null))))),null!==this.props.caption&&xe("span",{className:"uploader-zone-fog-caption",onClick:function(e){return e.stopPropagation()}},this.props.caption))),!0===this.props.withUrlInput&&xe("div",{className:"uploader-url"},xe("input",{className:"uploader-url-input",name:"url",value:this.state.url,placeholder:this.props.catalogue.urlInputPlaceholder,type:"text",onChange:this.handleUrlChange,onKeyPress:function(t){13===t.which&&(t.preventDefault(),e.handleInjectUrlClick())}}),xe("span",{className:"uploader-url-addon",onClick:this.handleInjectUrlClick},xe(He,{className:"uploader-url-addon-icon"}),this.props.catalogue.urlSubmitText)))}},{key:"base64MimeType",value:function(e){var t=null;if("string"!=typeof e)return t;var r=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return r&&r.length&&(t=r[1]),t}},{key:"isBase64",value:function(e){return null!==this.base64MimeType(e)}},{key:"extension",value:function(e){return e=aa.isString(e)?e:e.name,aa.last(aa.split(aa.split(e,"?")[0],"."))}},{key:"extensions",value:function(){var e=this.props,t=e.additionalExtensions,r=e.extendedFileFormatSupport,n={};return["audio","image","video"].forEach((function(e){n[e]=aa.uniq([].concat(d(Ze.browser[e].extensions),d(!0===r||!0===aa.get(r,e)?Ze.extended[e].extensions:[]),d(aa.get(t,e)||[])))})),n}},{key:"mimeTypes",value:function(){var e=this.props,t=e.additionalMimeTypes,r=e.extendedFileFormatSupport,n={};return["audio","image","video"].forEach((function(e){n[e]=aa.uniq([].concat(d(Ze.browser[e].mimeTypes),d(!0===r||!0===aa.get(r,e)?Ze.extended[e].mimeTypes:[]),d(aa.get(t,e)||[])))})),n}},{key:"guessType",value:function(e){var t;if(!e)return null;if(!(e=this.base64MimeType(e)||this.extension(e)||(null===(t=e)||void 0===t?void 0:t.type)).match(/\//)){var r=this.extensions();for(var n in r){if(-1!==aa.concat(r[n],aa.map(r[n],(function(e){return e.toUpperCase()}))).indexOf(e))return n}}else{var i=this.mimeTypes();for(var o in i){if(-1!==i[o].indexOf(e))return o}}return null}},{key:"humanSize",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=["B","KB","MB","GB","TB"],n=r.length-1;n>=0;n--){var i=1*e/Math.pow(1024,n);if(i>=1)return t&&(i=aa.round(i)),"".concat(i," ").concat(r[n])}}},{key:"initializeDrag",value:function(){window.addEventListener("dragover",(function(e){(e=e||event).preventDefault()}),!1),window.addEventListener("drop",(function(e){(e=e||event).preventDefault()}),!1)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return na(na({},e.src!==aa.get(t,"_src")?{_src:e.src}:null),e.src!==aa.get(t,"_src")?{loaded:!1,_forceUpdateCounter:0}:null)}}]),o}(n.Component);return sa.propTypes=(ea={additionalExtensions:t.shape({audio:t.array,image:t.array,video:t.array}),additionalMimeTypes:t.shape({audio:t.array,image:t.array,video:t.array}),autoPlay:t.bool,backgroundColor:t.string,backgroundSize:t.oneOf(["contain","cover"]),caption:t.oneOfType([t.string,t.node]),catalogue:t.object,compact:t.bool,corsProof:t.oneOfType([t.bool,t.func]),croppable:t.bool,editable:t.bool,customAttributes:t.object,cuttable:t.bool,disabled:t.bool,extendedFileFormatSupport:t.oneOfType([t.shape({audio:t.bool,image:t.bool,video:t.bool}),t.bool]),fileType:t.oneOfType([t.array,t.string]),hoverPlay:t.bool,mediaCrop:t.object,maxSize:t.number,maxSizes:t.shape({audio:t.number,image:t.number,video:t.number}),onChange:t.func,onCompressStart:t.func,onCompressEnd:t.func,onCropClick:t.func,onCutClick:t.func,onFileTooLargeError:t.func,onFirstLoad:t.func,onInvalidFileExtensionError:t.func,onInvalidUrlError:t.func,onLoad:t.func,onRemoveClick:t.func,onUploaderClick:t.func,onUrlInjectionError:t.func},a(ea,"onCutClick",t.func),a(ea,"onEditClick",t.func),a(ea,"onAudioLoad",t.func),a(ea,"onVideoLoad",t.func),a(ea,"range",t.array),a(ea,"removable",t.bool),a(ea,"src",t.string),a(ea,"srcType",t.string),a(ea,"withUrlInput",t.bool),ea),sa.defaultProps={additionalExtensions:{},additionalMimeTypes:{},autoPlay:null,backgroundColor:"transparent",backgroundSize:"cover",caption:null,catalogue:{click:null,drop:null,typeUrl:null,loading:null,or:null,urlInputPlaceholder:null,urlSubmitText:null},compact:!1,corsProof:!0,editable:!1,editIcon:null,croppable:!1,cropIcon:null,customAttributes:{},cuttable:!1,cutIcon:null,disabled:!1,extendedFileFormatSupport:!1,fileType:"image",hoverPlay:!0,mediaCrop:null,maxSize:10485760,maxSizes:{},onChange:function(e,t,r){return null},onCompressStart:function(){return null},onCompressEnd:function(){return null},onCropClick:function(){return null},onFileTooLargeError:function(e,t){return null},onFirstLoad:function(){return null},onInvalidFileExtensionError:function(e,t){return null},onInvalidUrlError:function(e){return null},onLoad:function(){return null},onNotSupportedVideoLoad:function(){return null},onRemoveClick:function(){return null},onUploaderClick:null,onUrlInjectionError:function(e,t){return null},onCutClick:function(){return null},onEditClick:function(){return null},onAudioLoad:function(){return null},onVideoLoad:function(){return null},range:null,removable:!1,removeIcon:null,src:null,srcType:null,withUrlInput:!1},sa}));
